---
title: Dwloader のデータ型変換規則
description: このトピックでは、データを並列データウェアハウス (PDW) に読み込むときに dwloader コマンドラインローダーがサポートする入力データ形式と暗黙のデータ型変換について説明します。
author: mzaman1
ms.prod: sql
ms.technology: data-warehouse
ms.topic: conceptual
ms.date: 04/17/2018
ms.author: murshedz
ms.reviewer: martinle
ms.custom: seo-dt-2019
ms.openlocfilehash: fe5d8790b5adb8477c994d265f458cdb1ceda61a
ms.sourcegitcommit: d587a141351e59782c31229bccaa0bff2e869580
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/22/2019
ms.locfileid: "74401180"
---
# <a name="data-type-conversion-rules-for-dwloader---parallel-data-warehouse"></a>Dwloader のデータ型変換規則-Parallel Data Warehouse
このトピックでは、入力データ形式と、 [Dwloader コマンドラインローダー](dwloader.md)が PDW にデータを読み込むときにサポートする暗黙のデータ型変換について説明します。 暗黙的なデータ変換は、入力データが SQL Server PDW 対象テーブルのデータ型と一致しない場合に発生します。 読み込みプロセスを設計するときにこの情報を使用して、データが正常に SQL Server PDW に読み込まれるようにします。  
   
  
## <a name="InsertBinaryTypes"></a>バイナリ型へのリテラルの挿入  
次の表では、 **binary** (*n*) または**varbinary**(*n*) 型の SQL Server PDW 列にリテラル値を読み込むための、許可されているリテラルの型、書式、および変換規則を定義しています。  
  
|入力データ型|入力データの例|Binary データ型または varbinary データ型への変換|  
|-------------------|-----------------------|-----------------------------------------------|  
|バイナリリテラル|60*hexidecimal_string*<br /><br />例: 12Ef または0x12Ef|0x プレフィックスは省略可能です。<br /><br />データソースの長さは、データ型に指定されたバイト数を超えることはできません。<br /><br />データソースの長さが**バイナリ**データ型のサイズよりも小さい場合、データは、データ型のサイズに合わせてゼロで右側に埋め込まれます。|  
  
## <a name="InsertDateTimeTypes"></a>日付/時刻型へのリテラルの挿入  
日付と時刻のリテラルは、単一引用符で囲まれた特定の形式の文字列リテラルを使用して表されます。 次の表は、日付または時刻のリテラルを**datetime**、 **smalldatetime**、 **date**、 **time**、 **datetimeoffset**、または**datetime2**型の列に読み込むために許可されているリテラルの種類、形式、および変換規則を定義しています。 テーブルは、指定されたデータ型の既定の形式を定義します。 指定できるその他の形式は、 [Datetime 形式](#DateFormats)のセクションで定義されています。 日付と時刻のリテラルには、先頭または末尾のスペースを含めることはできません。 **date**、 **smalldatetime**、および null 値を固定幅モードで読み込むことはできません。  
  
### <a name="datetime-data-type"></a>datetime データ型  
次の表は、リテラル値を**datetime**型の列に読み込むための既定の形式と規則を定義しています。 空の文字列 (' ') は、既定値 ' 1900-01-01 12:00: 00.000 ' に変換されます。 空白しか含まれていない文字列 (' ') では、エラーが生成されます。  
  
|入力データ型|入力データの例|Datetime データ型への変換|  
|-------------------|-----------------------|------------------------------------|  
|**Datetime**形式の文字列リテラル|' yyyy-MM-dd hh: MM: ss [. fff] '<br /><br />例: ' 2007-05-08 12:35: 29.123 '|値が挿入されると、小数部の桁数が0に設定されます。 たとえば、リテラル ' 2007-05-08 12:35 ' は ' 2007-05-08 12:35: 00.000 ' として挿入されます。|  
|**Smalldatetime**形式の文字列リテラル|' yyyy-MM-dd hh: MM '<br /><br />例: ' 2007-05-08 12:35 '|値が挿入されると、秒と残りの小数点以下桁数が0に設定されます。|  
|**日付**形式の文字列リテラル|' yyyy-MM-dd '<br /><br />例: ' 2007-05-08 '|値が挿入されると、時刻値 (時間、分、秒、および分数) は 12:00: 00.000 に設定されます。|  
|**Datetime2**形式の文字列リテラル|' yyyy-MM-dd hh: MM: fffffff '<br /><br />例: ' 2007-05-08 12:35: 29.1234567 '|ソースデータは、3桁の小数部を超えることはできません。 たとえば、リテラル ' 2007-05-08 12:35: 29.123 ' は挿入されますが、値 ' 2007-05-8 12:35: 29.1234567 ' はエラーを生成します。|  
  
### <a name="smalldatetime-data-type"></a>smalldatetime データ型  
次の表は、リテラル値を**smalldatetime**型の列に読み込むための既定の形式と規則を定義しています。 空の文字列 (' ') は、既定値 ' 1900-01-01 12:00 ' に変換されます。 空白しか含まれていない文字列 (' ') では、エラーが生成されます。  
  
|入力データ型|入力データの例|Smalldatetime データ型への変換|  
|-------------------|-----------------------|-----------------------------------------|  
|**Smalldatetime**形式の文字列リテラル|' yyyy-MM-dd hh: mm ' または ' yyyy-mm-dd hh: mm: ss '<br /><br />例: ' 2007-05-08 12:00 ' または ' 2007-05-08 12:00:15 '|ソースデータには、年、月、日、時、分の値が必要です。 秒は省略可能であり、存在する場合は00の値に設定する必要があります。 それ以外の値を指定すると、エラーが生成されます。<br /><br />秒は省略可能です。 Smalldatetime 列に読み込む場合、dwloader は秒と秒の小数部を丸めます。 たとえば、1999-01-05 20:10: 35.123 は 01-05 20:11 として読み込まれます。|  
|**日付**形式の文字列リテラル|' yyyy-MM-dd '<br /><br />例: ' 2007-05-08 '|値が挿入されると、時刻値 (時間、分、秒、および分数) が0に設定されます。|  
  
### <a name="date-data-type"></a>date データ型  
次の表は、リテラル値を**date**型の列に読み込むための既定の形式と規則を定義しています。 空の文字列 (' ') は、既定値 ' 1900-01-01 ' に変換されます。 空白しか含まれていない文字列 (' ') では、エラーが生成されます。  
  
|入力データ型|入力データの例|日付データ型への変換|  
|-------------------|-----------------------|--------------------------------|  
|**日付**形式の文字列リテラル|' yyyy-MM-dd '<br /><br />例: ' 2007-05-08 '||  
  
### <a name="time-data-type"></a>time データ型  
次の表は、リテラル値を**time**型の列に読み込むための既定の形式と規則を定義しています。 空の文字列 (' ') は、既定値 ' 00:00: 00.0000 ' に変換されます。 空白しか含まれていない文字列 (' ') では、エラーが生成されます。  
  
|入力データ型|入力データの例|Time データ型への変換|  
|-------------------|-----------------------|--------------------------------|  
|**時刻**形式の文字列リテラル|' hh: mm: fffffff '<br /><br />例: ' 12:35: 29.1234567 '|データソースの有効桁数 (小数点以下桁数) が、 **time**データ型の有効桁数よりも小さいまたは等しい場合、データはゼロで右側に埋め込まれます。 たとえば、リテラル値 ' 12:35: 29.123 ' は、' 12:35: 29.1230000 ' として挿入されます。|  
  
### <a name="datetimeoffset-data-type"></a>datetimeoffset データ型  
次の表では、 **datetimeoffset** (*n*) 型の列にリテラル値を読み込むための既定の形式と規則を定義しています。 既定の形式は、' yyyy-MM-dd hh: mm: fffffff {+ |-} hh: mm ' です。 空の文字列 (' ') は、既定値 ' 1900-01-01 12:00: 00.0000000 + 00:00 ' に変換されます。 空白しか含まれていない文字列 (' ') では、エラーが生成されます。 小数点以下桁数は、列定義によって異なります。 たとえば、 **datetimeoffset** (2) として定義された列には、2桁の小数部が含まれます。  
  
|入力データ型|入力データの例|Datetimeoffset データ型への変換|  
|-------------------|-----------------------|------------------------------------------|  
|**Datetime**形式の文字列リテラル|' yyyy-MM-dd hh: MM: ss [. fff] '<br /><br />例: ' 2007-05-08 12:35: 29.123 '|値が挿入されると、小数点以下の桁数とオフセット値が0に設定されます。 たとえば、リテラル ' 2007-05-08 12:35: 29.123 ' は、' 2007-05-08 12:35: 29.1230000 + 00:00 ' として挿入されます。|  
|**Smalldatetime**形式の文字列リテラル|' yyyy-MM-dd hh: MM '<br /><br />例: ' 2007-05-08 12:35 '|秒。値が挿入されると、残りの小数点以下の桁数とオフセット値は0に設定されます。|  
|**日付**形式の文字列リテラル|' yyyy-MM-dd '<br /><br />例: ' 2007-05-08 '|値が挿入されると、時刻値 (時間、分、秒、および分数) が0に設定されます。 たとえば、リテラル ' 2007-05-08 ' は、' 2007-05-08 00:00: 00.0000000 + 00:00 ' として挿入されます。|  
|**Datetime2**形式の文字列リテラル|' yyyy-MM-dd hh: MM: fffffff '<br /><br />例: ' 2007-05-08 12:35: 29.1234567 '|ソースデータは、datetimeoffset 列で指定した秒数の小数部を超えることはできません。 データソースに秒の小数部が含まれている場合、データはゼロで右側に埋め込まれます。 たとえば、データ型が datetimeoffset (5) の場合、リテラル値 ' 2007-05-08 12:35: 29.123 + 12:15 ' は ' 12:35: 29.12300 + 12:15 ' として挿入されます。|  
|**Datetimeoffset**形式の文字列リテラル|' yyyy-MM-dd hh: mm: fffffff {+&#124;-} hh: mm '<br /><br />例: ' 2007-05-08 12:35: 29.1234567 + 12:15 '|ソースデータは、datetimeoffset 列で指定した秒数の小数部を超えることはできません。 データソースに秒の小数部が含まれている場合、データはゼロで右側に埋め込まれます。 たとえば、データ型が datetimeoffset (5) の場合、リテラル値 ' 2007-05-08 12:35: 29.123 + 12:15 ' は ' 12:35: 29.12300 + 12:15 ' として挿入されます。|  
  
### <a name="datetime2-data-type"></a>datetime2 データ型  
次の表は、 **datetime2** (*n*) 型の列にリテラル値を読み込むための既定の形式と規則を定義しています。 既定の形式は、' yyyy-MM-dd hh: mm: fffffff ' です。 空の文字列 (' ') は、既定値 ' 1900-01-01 12:00:00 ' に変換されます。 空白しか含まれていない文字列 (' ') では、エラーが生成されます。 小数点以下桁数は、列定義によって異なります。 たとえば、 **datetime2** (2) として定義された列には、2桁の小数部が含まれます。  
  
|入力データ型|入力データの例|Datetime2 データ型への変換|  
|-------------------|-----------------------|-------------------------------------|  
|**Datetime**形式の文字列リテラル|' yyyy-MM-dd hh: MM: ss [. fff] '<br /><br />例: ' 2007-05-08 12:35: 29.123 '|秒の小数部は省略可能で、値が挿入されるときには0に設定されます。|  
|**Smalldatetime**形式の文字列リテラル|' yyyy-MM-dd hh: MM '<br /><br />例: ' 2007-05-08 12 '|値が挿入されると、省略可能な秒と残りの小数点以下桁数が0に設定されます。|  
|**日付**形式の文字列リテラル|' yyyy-MM-dd '<br /><br />例: ' 2007-05-08 '|値が挿入されると、時刻値 (時間、分、秒、および分数) が0に設定されます。 たとえば、リテラル ' 2007-05-08 ' は ' 2007-05-08 12:00: 00.0000000 ' として挿入されます。|  
|**Datetime2**形式の文字列リテラル|' yyyy-MM-dd hh: MM: ss: fffffff '<br /><br />例: ' 2007-05-08 12:35: 29.1234567 '|データソースに**datetime2**(*n*) で指定された値以下のデータおよび時間コンポーネントが含まれている場合は、データが挿入されます。それ以外の場合は、エラーが生成されます。|  
  
### <a name="DateFormats"></a>Datetime 形式  
Dwloader は、SQL Server PDW に読み込む入力データに対して、次のデータ形式をサポートしています。 詳細については、表の後に示します。  
  
|datetime|smalldatetime|date|datetime2|datetimeoffset|  
|------------|-----------------|--------|-------------|------------------|  
|[M[M]]M-[d]d-[yy]yy HH:mm:ss[.fff]|[M[M]]M-[d]d-[yy]yy HH:mm[:00]|[M[M]]M-[d]d-[yy]yy|[M[M]]M-[d]d-[yy]yy HH:mm:ss[.fffffff]|[M[M]]M-[d]d-[yy]yy HH:mm:ss[.fffffff] zzz|  
|[M[M]]M-[d]d-[yy]yy hh:mm:ss[.fff][tt]|[M[M]]M-[d]d-[yy]yy hh:mm[:00][tt]||[M[M]]M-[d]d-[yy]yy hh:mm:ss[.fffffff][tt]|[M[M]]M-[d]d-[yy]yy hh:mm:ss[.fffffff][tt] zzz|  
|[M[M]]M-[yy]yy-[d]d HH:mm:ss[.fff]|[M[M]]M-[yy]yy-[d]d HH:mm[:00]|[M[M]]M-[yy]yy-[d]d|[M[M]]M-[yy]yy-[d]d HH:mm:ss[.fffffff]|[M[M]]M-[yy]yy-[d]d HH:mm:ss[.fffffff] zzz|  
|[M[M]]M-[yy]yy-[d]d hh:mm:ss[.fff][tt]|[M[M]]M-[yy]yy-[d]d hh:mm[:00][tt]||[M[M]]M-[yy]yy-[d]d hh:mm:ss[.fffffff][tt]|[M[M]]M-[yy]yy-[d]d hh:mm:ss[.fffffff][tt] zzz|  
|[yy]yy-[M[M]]M-[d]d HH:mm:ss[.fff]|[yy]yy-[M[M]]M-[d]d HH:mm[:00]|[yy]yy-[M[M]]M-[d]d|[yy]yy-[M[M]]M-[d]d HH:mm:ss[.fffffff]|[yy]yy-[M[M]]M-[d]d HH:mm:ss[.fffffff]  zzz|  
|[yy]yy-[M[M]]M-[d]d hh:mm:ss[.fff][tt]|[yy]yy-[M[M]]M-[d]d hh:mm[:00][tt]||[yy]yy-[M[M]]M-[d]d hh:mm:ss[.fffffff][tt]|[yy]yy-[M[M]]M-[d]d hh:mm:ss[.fffffff][tt] zzz|  
|[yy]yy-[d]d-[M[M]]M HH:mm:ss[.fff]|[yy]yy-[d]d-[M[M]]M HH:mm[:00]|[yy]yy-[d]d-[M[M]]M|[yy]yy-[d]d-[M[M]]M HH:mm:ss[.fffffff]|[yy]yy-[d]d-[M[M]]M HH:mm:ss[.fffffff]  zzz|  
|[yy]yy-[d]d-[M[M]]M hh:mm:ss[.fff][tt]|[yy]yy-[d]d-[M[M]]M hh:mm[:00][tt]||[yy]yy-[d]d-[M[M]]M hh:mm:ss[.fffffff][tt]|[yy]yy-[d]d-[M[M]]M hh:mm:ss[.fffffff][tt] zzz|  
|[d]d-[M[M]]M-[yy]yy HH:mm:ss[.fff]|[d]d-[M[M]]M-[yy]yy HH:mm[:00]|[d]d-[M[M]]M-[yy]yy|[d]d-[M[M]]M-[yy]yy HH:mm:ss[.fffffff]|[d]d-[M[M]]M-[yy]yy HH:mm:ss[.fffffff] zzz|  
|[d]d-[M[M]]M-[yy]yy hh:mm:ss[.fff][tt]|[d]d-[M[M]]M-[yy]yy hh:mm[:00][tt]||[d]d-[M[M]]M-[yy]yy hh:mm:ss[.fffffff][tt]|[d]d-[M[M]]M-[yy]yy hh:mm:ss[.fffffff][tt] zzz|  
|[d]d-[yy]yy-[M[M]]M HH:mm:ss[.fff]|[d]d-[yy]yy-[M[M]]M HH:mm[:00]|[d]d-[yy]yy-[M[M]]M|[d]d-[yy]yy-[M[M]]M HH:mm:ss[.fffffff]|[d]d-[yy]yy-[M[M]]M HH:mm:ss[.fffffff]  zzz|  
|[d]d-[yy]yy-[M[M]]M hh:mm:ss[.fff][tt]|[d]d-[yy]yy-[M[M]]M hh:mm[:00][tt]||[d]d-[yy]yy-[M[M]]M hh:mm:ss[.fffffff][tt]|[d]d-[yy]yy-[M[M]]M hh:mm:ss[.fffffff][tt] zzz|  
  
詳細:  
  
-   月、日、年の値を区切るには、'-'、'/'、または ' を使用できます。 '. わかりやすくするために、この表では、'-' の区切りのみを使用しています。  
  
-   月をテキストとして指定するには、3つ以上の文字を使用します。 1 ~ 2 文字の月は、数値として解釈されます。  
  
-   時刻の値を区切るには、': ' 記号を使用します。  
  
-   角かっこで囲まれた文字はオプションです。  
  
-   文字 'tt' では [AM|PM|am|pm] が指定されます。 AM が既定値です。 'tt' を指定すると、時間の値 (hh) を 0 から 12 の範囲にする必要があります。  
  
-   文字 'zzz' では、システムの現在のタイム ゾーンに対するオフセットが {+|-}HH:ss] の形式で指定されます。  
  
## <a name="InsertNumerictypes"></a>数値型へのリテラルの挿入  
次の表は、数値型を使用する SQL Server PDW 列にリテラル値を読み込むための既定の書式と変換規則を定義しています。  
  
### <a name="bit-data-type"></a>bit データ型  
次の表は、リテラル値を**bit**型の列に読み込むための既定の形式と規則を定義しています。 空の文字列 (' ')、または空白のみを含む文字列 (' ') は0に変換されます。  
  
|入力データ型|入力データの例|Bit データ型への変換|  
|-------------------|-----------------------|-------------------------------|  
|**整数**形式の文字列リテラル|' ffffffffff '<br /><br />例: ' 1 ' または ' 321 '|文字列リテラルとして書式設定された整数値には、負の値を含めることはできません。 たとえば、値 "-123" によってエラーが生成されます。<br /><br />1より大きい値は1に変換されます。 たとえば、値 ' 123 ' は1に変換されます。|  
|文字列リテラル|' TRUE ' または ' FALSE '<br /><br />例: ' true '|値 ' TRUE ' は1に変換されます。値 ' FALSE ' は0に変換されます。|  
|整数リテラル|fffffffn<br /><br />例: 1 または321|1より大きい値、または0より小さい値が1に変換されます。 たとえば、値123と-123 は1に変換されます。|  
|Decimal リテラル|fffnn. fffn<br /><br />例: 1234.5678|1より大きい値、または0より小さい値が1に変換されます。 たとえば、値123.45 と-123.45 は1に変換されます。|  
  
### <a name="decimal-data-type"></a>decimal データ型  
次の表では、 **decimal** (*p, s*) 型の列にリテラル値を読み込むための規則を定義しています。 データ変換規則は、SQL Server の場合と同じです。 詳細については、MSDN の「[データ型の変換」 (データベースエンジン)](https://go.microsoft.com/fwlink/?LinkId=202128)を参照してください。  
  
|入力データ型|入力データの例|  
|-------------------|-----------------------|  
|整数リテラル|321312313123|  
|Decimal リテラル|123344.34455|  
  
### <a name="float-and-real-data-types"></a>float 型と real 型  
次の表は、リテラル値を**float**型または**real**型の列に読み込むための規則を定義しています。 データ変換規則は、SQL Server の場合と同じです。 詳細については、MSDN の「[データ型の変換」 (データベースエンジン)](../t-sql/data-types/data-type-conversion-database-engine.md)を参照してください。  
  
|入力データ型|入力データの例|  
|-------------------|-----------------------|  
|整数リテラル|321312313123|  
|Decimal リテラル|123344.34455|  
|浮動小数点リテラル|3.12323 e + 14|  
  
### <a name="int-bigint-tinyint-smallint-data-types"></a>int、bigint、tinyint、smallint データ型  
次の表は、リテラル値を**int**、 **bigint**、 **tinyint**、 **smallint**型の列に読み込むための規則を定義しています。 データソースは、指定されたデータ型で許可されている範囲を超えることはできません。 たとえば、 **tinyint**の範囲は 0 ~ 255 で、 **int**の範囲は-2147483648 ~ 2147483647 です。  
  
|入力データ型|入力データの例|整数データ型への変換|  
|-------------------|-----------------------|------------------------------------|  
|整数リテラル|321312313123||  
|Decimal リテラル|123344.34455|小数点の右側の値は切り捨てられます。|  
  
### <a name="money-and-smallmoney-data-types"></a>money および smallmoney データ型  
通貨リテラル値は、省略可能な小数点と省略可能な通貨記号をプレフィックスとして持つ数値の文字列として表されます。 データソースは、指定されたデータ型で許可されている範囲を超えることはできません。 たとえば、 **smallmoney**の範囲は-214748.3648 ~ 214748.3647 で、 **money**の範囲は-922337203685477.5808 ~ 922337203685477.5807 です。 次の表では、 **money**型または**smallmoney**型の列にリテラル値を読み込むための規則を定義しています。  
  
|入力データ型|入力データの例|Money または smallmoney データ型への変換|  
|-------------------|-----------------------|-----------------------------------------------|  
|整数リテラル|321312|値が挿入されると、小数点の後に桁数が0に設定されます。 たとえば、リテラル12345は12345.0000 として挿入されます。|  
|Decimal リテラル|123344.34455|小数点の後の桁数が4を超える場合、値は最も近い値に切り上げられます。 たとえば、値123344.34455 は123344.3446 として挿入されます。|  
|Money リテラル|$123456.7890|通貨記号は、値と共に挿入されません。<br /><br />小数点の後の桁数が4を超える場合、値は最も近い値に切り上げられます。|  
  
## <a name="InsertStringTypes"></a>文字列型へのリテラルの挿入  
次の表では、文字列型を使用する SQL Server PDW 列にリテラル値を読み込むための既定の書式と変換規則を定義します。  
  
### <a name="char-varchar-nchar-and-nvarchar-data-types"></a>char、varchar、nchar、および nvarchar データ型  
次の表では、リテラル値を**char**、 **varchar**、 **nchar** 、および**nvarchar**型の列に読み込むための既定の形式と規則を定義しています。 データソースの長さは、データ型に指定されたサイズを超えることはできません。 データソースの長さが**char**データ型または**nchar**データ型のサイズよりも小さい場合、データは右側に埋め込まれ、データ型のサイズには空白が挿入されます。  
  
|入力データ型|入力データの例|文字データ型への変換|  
|---------------|-------------------|----------------------------------|  
|文字列リテラル|形式: ' 文字列 '<br /><br />例: ' abc '| NA |  
|Unicode 文字列リテラル|形式: N'character string '<br /><br />例: N'abc '| NA |  
|整数リテラル|形式: ffffffffffn<br /><br />例: 321312313123| NA |  
|Decimal リテラル|形式: ffffff. fffffff<br /><br />例: 12344.34455| NA |  
|Money リテラル|形式: $ffffff。 fffnn<br /><br />例: $123456.99|省略可能な通貨記号は、値と共に挿入されません。 通貨記号を挿入するには、値を文字列リテラルとして挿入します。 これは、すべてのリテラルを文字列リテラルとして扱うローダーの形式と一致します。<br /><br />コンマは使用できません。<br /><br />小数点の後の桁数が2を超える場合、値は最も近い値に切り上げられます。 たとえば、値123.946789 は123.95 として挿入されます。<br /><br />CONVERT 関数を使用して通貨リテラルを挿入する場合、既定のスタイル 0 (コンマと小数点の後の2桁の数字) のみが許可されます。|  
  
### <a name="general-remarks"></a>全般的な解説  
**dwloader**は、smp SQL Server が実行するのと同じ暗黙の変換を実行しますが、smp SQL Server がサポートする暗黙の変換はすべてサポートしていません。  
 
<!-- MISSING LINKS 
## See Also  
[Grant Permissions to Load Data &#40;SQL Server PDW&#41;](../sqlpdw/grant-permissions-to-load-data-sql-server-pdw.md)  
[Common Metadata Query Examples &#40;SQL Server PDW&#41;](../sqlpdw/common-metadata-query-examples-sql-server-pdw.md)  

-->
  
