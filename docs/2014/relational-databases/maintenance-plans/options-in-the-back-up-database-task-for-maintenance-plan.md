---
title: '[データベースのバックアップ タスク] (メンテナンス プラン) | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- sql12.swb.maint.backup.f1
- sql12.swb.maint.maintplanproperties.logbackup.f1
helpviewer_keywords:
- Back Up Database Task dialog box
ms.assetid: ed1ef012-fa14-4ba5-bafe-d1527ba065b3
author: MikeRayMSFT
ms.author: mikeray
manager: craigg
ms.openlocfilehash: 4a31052bb0633d370098e328741432f6b854d65e
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/08/2020
ms.locfileid: "68205949"
---
# <a name="back-up-database-task-maintenance-plan"></a>[データベースのバックアップ タスク] (メンテナンス プラン)
  [データベースのバックアップ**タスク**] ダイアログを使用すると、バックアップタスクをメンテナンスプランに追加できます。 システムまたはハードウェアのトラブル (またはユーザー エラー) が原因でデータがなんらかの損傷を受けた場合、データの回復にはバックアップ コピーからの復元が必要になるため、データベースのバックアップは定期的に実行することが重要です。 このタスクを使用すると、ファイル、ファイル グループ、トランザクション ログの完全バックアップと差分バックアップを実行できます。  
  
 **データベースのバックアップタスクを作成するには**  
  
-   [メンテナンス プランの作成](create-a-maintenance-plan.md)  
  
## <a name="options"></a>オプション  
 **接続**  
 このタスクを実行するときに使用するサーバー接続を選択します。  
  
 **[新規作成]**  
 このタスクを実行するときに使用する新しいサーバー接続を作成します。 
  **[新しい接続]** ダイアログ ボックスについては、後で説明します。  
  
 **データベース**  
 このタスクで操作するデータベースを指定します。 ボックスの一覧から、 **[すべてのデータベース]**、 **[すべてのシステム データベース]**、 **[すべてのユーザー データベース]**、または **[特定のデータベース]** を選択します。  
  
 **すべてのデータベース**  
 すべての [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースを対象として、メンテナンス タスクを実行するメンテナンス プランを生成します。  
  
 **すべてのシステムデータベース (master、msdb、model)**  
 
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の各システム データベースを対象として、メンテナンス タスクを実行するメンテナンス プランを生成します。 ユーザーが作成したデータベースではメンテナンス タスクは実行されません。  
  
 **すべてのユーザーデータベース (master、model、msdb、tempdb を除く)**  
 ユーザーが作成したすべてのデータベースを対象として、メンテナンス タスクを実行するメンテナンス プランを生成します。 
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のシステム データベースではメンテナンス タスクは実行されません。  
  
 **これらのデータベース**  
 選択されたデータベースだけを対象として、メンテナンス タスクを実行するメンテナンス プランを生成します。 このオプションをオンにする場合は、少なくとも 1 つのデータベースが一覧内で選択されている必要があります。  
  
 **バックアップの種類**  
 実行するバックアップの種類を表示します。  
  
 **バックアップコンポーネント**  
 データベース全体をバックアップするには、 **[データベース]** を選択します。 データベースの一部だけをバックアップするには、 **[ファイルとファイル グループ]** を選択します。 後者のオプションを選択した場合は、ファイル名またはファイル グループ名を指定します。 
  **[データベース]** ボックスで複数のデータベースを選択した場合、 **[バックアップ コンポーネント]** には **[データベース]** のみを指定できます。 ファイルまたはファイル グループのバックアップを実行するには、データベースごとにタスクを作成します。  
  
 **バックアップセットの有効期限**  
 バックアップ セットを別のバックアップ セットでいつ上書きできるようになるかを指定します。  
  
 **バックアップ先**  
 データベースをファイルまたはテープにバックアップします。 データベースを格納しているコンピューターに接続したテープ デバイスのみを利用できます。  
  
 **1つ以上のファイルにデータベースをバックアップする**  
 
  **[追加]** をクリックして **[バックアップ先の選択]** ダイアログ ボックスを開き、1 つまたは複数のディスクの場所またはテープ デバイスを指定します。  
  
 **バックアップファイルが存在する場合**  
 このバックアップをファイルの末尾に追加する場合は、 **[追加]** を選択します。 ファイル内にある古いバックアップをすべて削除し、今回の新しいバックアップに置き換える場合は、 **[上書き]** を選択します。  
  
 **すべてのデータベースのバックアップファイルを作成する**  
 [フォルダー] ボックスで指定された場所にバックアップ ファイルを作成します。 選択されたデータベースごとに 1 つのファイルが作成されます。  
  
 **データベースごとにサブディレクトリを作成する**  
 各データベースをサブフォルダーに配置します。  
  
> [!IMPORTANT]  
>  メンテナンス プランによってサブディレクトリが作成される場合もありますが、メンテナンス タスクはサブディレクトリを削除できません。 この機能によって、メンテナンス クリーンアップ タスクを使ってファイルを削除するなど、悪意のある攻撃を受ける危険性を最小限に抑えることができます。  
  
> [!IMPORTANT]  
>  サブディレクトリには、親ディレクトリから権限が継承されます。 不正アクセスを防ぐには、権限を制限してください。  
  
 **フォルダー**  
 自動的に作成されたデータベース ファイルを格納するフォルダーを指定します。  
  
 **バックアップファイルの拡張子**  
 バックアップ ファイルに使用する拡張子を指定します。 既定値は **.bak**です。  
  
 **バックアップの整合性を確認する**  
 バックアップ セットが完全で、すべてのボリュームが読み取り可能であることを検証します。  
  
 **ログの末尾をバックアップし、データベースを復元中の状態のままにします。**  
 データベースを復元する前に、最後のステップとしてログのバックアップを実行します。 詳細については、「[ログ末尾のバックアップ &#40;SQL Server&#41;](../backup-restore/tail-log-backups-sql-server.md)」を参照してください。  
  
 **バックアップの圧縮の設定**  
 
  [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] (またはそれ以降のバージョン) で、 [バックアップの圧縮](../backup-restore/backup-compression-sql-server.md) の値を次の中から 1 つ選択します。  
  
|||  
|-|-|  
|**既定のサーバー設定を使用する**|オンにすると、サーバー レベルの既定値が使用されます。<br /><br /> この既定値は、 **backup compression default** サーバー構成オプションで設定されます。 このオプションの現在の設定を表示する方法については、「 [backup compression Default サーバー構成オプションの表示または構成](../../database-engine/configure-windows/view-or-configure-the-backup-compression-default-server-configuration-option.md)」を参照してください。|  
|**バックアップを圧縮する**|オンにすると、サーバー レベルの既定値に関係なく、バックアップが圧縮されます。<br /><br /> ** \*重要\* \* **既定では、圧縮によって CPU 使用率が大幅に増加し、圧縮プロセスによって消費される追加の CPU が同時実行操作に悪影響を与える可能性があります。 このため、 [リソース ガバナー](../resource-governor/resource-governor.md)によって CPU 使用率が制限されるセッションでは、優先度の低い圧縮バックアップを作成することができます。 詳細については、「 [リソース ガバナーを使用してバックアップの圧縮による CPU 使用率を制限する方法 &#40;Transact-SQL&#41;](../backup-restore/use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md)」を参照してください。|  
|**バックアップを圧縮しない**|オンにすると、サーバー レベルの既定値に関係なく、圧縮されていないバックアップが作成されます。|  
  
 **T-sql の表示**  
 選択したオプションに基づき、このタスクでサーバーに対して実行される [!INCLUDE[tsql](../../includes/tsql-md.md)] ステートメントを表示します。  
  
> [!NOTE]  
>  影響を受けるオブジェクトが大量にある場合は、表示にかなりの時間を要する場合があります。  
  
## <a name="new-connection-dialog-box"></a>[新しい接続] ダイアログ ボックス  
 **接続名**  
 新しい接続の名前を入力します。  
  
 **サーバー名の選択または入力**  
 このタスクを実行するときに接続するサーバーを選択します。  
  
 **[更新]**  
 使用できるサーバーの一覧を表示します。  
  
 **サーバーにログオンするための情報を入力します**  
 サーバーの認証情報を指定します。  
  
 **Windows 統合セキュリティを使用する**  
 Windows 認証を使用し[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)]てのインスタンスに接続します。  
  
 **特定のユーザー名とパスワードを使用する**  
 
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)] 認証を使用して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスに接続します。 このオプションは利用できません。  
  
 **ユーザー名**  
 認証に使用する [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ログインを指定します。 このオプションは利用できません。  
  
 **パスワード**  
 認証に使用するパスワードを指定します。 このオプションは利用できません。  
  
## <a name="see-also"></a>参照  
 [Transact-sql&#41;のバックアップ &#40;](/sql/t-sql/statements/backup-transact-sql)  
  
  
