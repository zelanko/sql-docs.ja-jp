---
title: インデックスを作成し、[キー] ダイアログ ボックス (Visual Database Tools) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ssms
ms.topic: conceptual
f1_keywords:
- vdtsql.chm:65539
- vdt.ppg.indexeskeys
ms.assetid: 9e4060ba-80c3-468f-bccb-e12e99f672c2
author: stevestein
ms.author: sstein
manager: craigg
ms.openlocfilehash: f0244530672e9db4a43f3dbe80f0c67cc86f8a67
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "63015420"
---
# <a name="indexes-and-keys-dialog-box-visual-database-tools"></a>[インデックスとキー] ダイアログ ボックス (Visual Database Tools)
  このダイアログ ボックスを使用すると、インデックス、主キー、および一意キーを作成したり、変更したりできます。 このダイアログ ボックスにアクセスするには、インデックスまたはキーを持つテーブルのテーブル定義を開いて、テーブル定義グリッドを右クリックし、 **[インデックス/キー]** をクリックします。  
  
> [!NOTE]  
>  テーブルをレプリケーションのためにパブリッシュする場合は、Transact-SQL ステートメントの [ALTER TABLE](/sql/t-sql/statements/alter-table-transact-sql) または SQL Server 管理オブジェクト (SMO) を使用してスキーマを変更する必要があります。 テーブル デザイナーまたはデータベース ダイアグラム デザイナーを使用してスキーマを変更するとき、テーブルはいったん削除されてから再作成されます。 パブリッシュされたオブジェクトは削除できないので、スキーマの変更は失敗します。  
  
## <a name="options"></a>および  
 **[選択された主/一意キーまたはインデックス]**  
 既存の主キーまたは一意キーとインデックスを示します。 右側のグリッドにプロパティを表示するキーまたはインデックスを選択します。 一覧が空の場合、テーブルには何も定義されていません。  
  
 **[追加]**  
 新しい主キー、一意キー、またはインデックスを作成します。  
  
 **削除**  
 **[選択された主/一意キーまたはインデックス]** 一覧で選択したキーまたはインデックスを削除します。  
  
 **[全般] カテゴリ**  
 展開してプロパティ **[列]** 、 **[UNIQUE]** 、および **[型]** を表示します。  
  
 **[列]**  
 キー列またはインデックス列に対して選択されている並べ替え順を一覧表示します。またここから並べ替え順を定義できるダイアログ ボックスにアクセスできます。 ダイアログ ボックスを表示するには、 **[列]** をクリックして、プロパティ フィールドの右に表示される省略記号ボタン ( [...] ) をクリックします。  
  
 **[UNIQUE]**  
 インデックスまたはキーに入力するデータが一意である必要があるかどうかを示します。 XML インデックスでは使用できません。  
  
 **型**  
 **[選択された主/一意キーまたはインデックス]** の一覧で選択された項目が一意のキーであるか、主キーであるか、またはインデックスであるかを指定します。 主キーを選択した場合、該当するフィールドは読み取り専用になります。  
  
 **[IDENTITY] カテゴリ**  
 展開して **[オブジェクト名]** プロパティ フィールドと **[説明]** プロパティ フィールドを表示します。  
  
 **名前**  
 キーまたはインデックスの名前を表示します。 新しいキーまたはインデックスを作成した場合、このプロパティには、テーブル デザイナーのアクティブ ウィンドウのテーブルに基づいて、既定の名前が設定されます。 名前はいつでも変更できます。  
  
 **[説明]**  
 キーまたはインデックスの説明を記述できます。 より詳細な説明を記述する場合は、 **[説明]** をクリックしてから、プロパティ フィールドの右に表示される省略記号ボタン ( **[...]** ) をクリックします。 これにより、テキストを書くことができる領域が大きくなります。  
  
 **[テーブル デザイナー] カテゴリ**  
 展開して **[CLUSTERED として作成]** の情報を表示します。  
  
 **[CLUSTERED として作成]**  
 キーまたはインデックスをクラスター化します。 1 つのテーブルでクラスター化できるインデックスは、1 つだけです。 テーブル内のデータは、クラスター化インデックスの順序で保存されます。 詳細については、「 [クラスター化インデックスの作成](../../relational-databases/indexes/indexes.md) 」と「 [非クラスター化インデックスの作成](../../relational-databases/indexes/create-nonclustered-indexes.md)」を参照してください。  
  
 **[データ スペースの指定]**  
 展開して **[(データ スペースの種類)]** 、 **[ファイル グループまたはパーティション スキーム名]** 、および **[パーティション列の一覧]** の情報を表示します。  
  
 **[(データ スペースの種類)]**  
 インデックスまたはキーが、ファイル グループまたはパーティション スキームに属するかどうかを示します。  
  
 **[ファイル グループまたはパーティション スキーム名]**  
 格納されているファイル グループまたはパーティション スキームの名前を表示します。  
  
 **[パーティション列の一覧]**  
 パーティション列関数に関係している列を、コンマ区切りで一覧表示します。 **[(データ スペースの種類)]** フィールドの [ファイル グループ] を選択した場合は使用できません。  
  
 **[FILL の指定]**  
 展開して **[FILL FACTOR]** および **[インデックスの埋め込み]** の情報を表示します。  
  
 **[FILL FACTOR]**  
 インデックスのリーフレベル ページをシステムにより埋めることができる割合を指定します。 ページがいっぱいになり、新たなデータが追加されると、システムはそのページを分割します。これによりパフォーマンスが大きく低下します。  
  
-   値 100 は、ページがいっぱいになることを示しています。 この場合、最小限の記憶領域が必要です。 この設定は、データに変更がない (たとえば読み取り専用テーブルのデータ) 場合にだけ使用します。  
  
-   値が小さいほど、データ ページの空の領域が大きくなります。 インデックスが増えるにつれてデータ ページを分割する必要性は低くなりますが、必要な記憶領域は大きくなります。  
  
 **[インデックスの埋め込み]**  
 インデックスの中間ページが拡大したときに、 **[FILL FACTOR]** で指定したのと同じ割合で空き領域 (埋め込み) を用意するかどうかを示します。  
  
 **[重複するキーを無視]**  
 一括挿入操作で、既存のキー値と等しいキー値を持つ行が挿入された場合の動作を指定します。 次のうちのどちらかを選択します。  
  
-   **[はい]** [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] は警告を表示し、不正な挿入行を無視して、残りの行の挿入を試行します。  
  
-   **[いいえ]** [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] はエラー メッセージを表示し、一括挿入操作全体をロールバックします。  
  
 **[インクルードされた列]**  
 インデックス キーを構成するすべての列の名前を、コンマ区切りで一覧表示します。 サブキー列が指定できるのは、クラスター化されていないインデックスの場合だけです。 このプロパティは、XML インデックスに対して隠ぺいされます。  
  
 **[無効化]**  
 インデックスを無効にするかどうかを示します。 これは、読み取り専用プロパティです。 インデックスが Visual Database Tools の外部で無効に設定されている場合、このプロパティは **[はい]** にのみ設定されます。  
  
 **[フルテキスト キー]**  
 インデックスがフルテキスト キーかどうかを指定します。 フルテキスト キーの詳細については、SQL Server オンライン ブックを参照してください。 このプロパティは、XML インデックスに対して隠ぺいされます。  
  
 **[ページのロックを許可]**  
 インデックスでページレベルのロックを許可するかどうかを指定します。 ページレベル ロックの許可、非許可はデータベースのパフォーマンスに影響を与えます。 推奨設定値は **[はい]** です。  
  
 **[統計値を再計算する]**  
 インデックスの作成時に、基になる [!INCLUDE[ssDE](../../includes/ssde-md.md)] で統計情報を新たに計算するかどうかを指定します。 統計情報の再計算により、インデックスの構築には前よりも時間がかかりますが、クエリのパフォーマンスは大幅に向上する可能性があります。  
  
 **[行のロックを許可]**  
 該当するインデックスで行レベルのロックを許可するかどうかを指定します。 行レベル ロックの許可、非許可はデータベースのパフォーマンスに影響を与えます。 推奨設定値は **[はい]** です。  
  
## <a name="see-also"></a>参照  
 [Unique 制約と Check 制約](../../relational-databases/tables/unique-constraints-and-check-constraints.md)   
 [主キー制約と外部キー制約](../../relational-databases/tables/primary-and-foreign-key-constraints.md)  
  
  
