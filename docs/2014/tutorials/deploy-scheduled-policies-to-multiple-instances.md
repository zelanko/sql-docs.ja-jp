---
title: スケジュールされたポリシーを複数のインスタンスにデプロイする |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
ms.assetid: f551b8e8-3668-4ed4-852f-bae826254f4f
author: VanMSFT
ms.author: vanto
manager: craigg
ms.openlocfilehash: 8d37dafd5501a289e45a119323eed61242707184
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/08/2020
ms.locfileid: "68185814"
---
# <a name="deploy-scheduled-policies-to-multiple-instances"></a>スケジュールされたポリシーの複数インスタンスへの配置
  登録済みサーバーを使用すると、スケジュールされたポリシーを集中管理された場所からマネージド サーバーに配置できます。 スケジュールされたポリシーは、ローカル サーバー グループまたは中央管理サーバーから配置できます。  
  
 ここでは、次の作業を行います。  
  
1.  前の作業でスケジュール設定したポリシーをフォルダーにエクスポートします。  
  
2.  登録済みサーバーで管理されている対象インスタンスにスケジュールされたポリシーを配置します。  
  
 これらの作業は、このレッスンの前の作業を完了したコンピューターで実行します。  
  
## <a name="prerequisites"></a>前提条件  
 この作業には、次の前提条件があります。  
  
-   このレッスンの前の作業を完了している必要があります。  
  
-   スケジュールされたポリシーを配置するインスタンスで [!INCLUDE[ssKatmai](../includes/sskatmai-md.md)] 以降を実行している必要があります。 オートメーションではポリシーがローカルに格納されている必要がありますが、これは [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] より前のバージョンの [!INCLUDE[ssKatmai](../includes/sskatmai-md.md)] ではサポートされていません。  
  
-   スケジュールされたポリシーを展開するサーバーは、**ローカルサーバーグループ**または**中央管理サーバー**ノードの登録済みサーバーに登録されている必要があります。 詳細については、次のトピックを参照してください。  
  
    -   [サーバー グループの作成または編集 &#40;SQL Server Management Studio&#41;](../ssms/register-servers/create-or-edit-a-server-group-sql-server-management-studio.md)  
  
    -   [接続されたサーバー &#40;SQL Server Management Studio&#41;に登録](../ssms/register-servers/register-a-connected-server-sql-server-management-studio.md)します。  
  
    -   [中央管理サーバーとサーバー グループの作成 &#40;SQL Server Management Studio&#41;](../ssms/register-servers/create-a-central-management-server-and-server-group.md)  
  
### <a name="to-export-the-scheduled-policies-as-xml-files"></a>スケジュールされたポリシーを .xml ファイルとしてエクスポートするには  
  
1.  前のタスクでスケジュールされたポリシーを構成したサーバーで、[**管理**]、[**ポリシー管理**] の順に展開し、[**ポリシー**] をクリックします。  
  
2.  
  **[表示]** メニューの **[オブジェクト エクスプローラーの詳細]** をクリックします。  
  
3.  [**オブジェクトエクスプローラーの詳細**] ウィンドウで、登録済みサーバーを使用して他のサーバーに展開する、スケジュールされたすべてのベストプラクティスポリシーを選択します。  
  
    > [!NOTE]  
    >  **カテゴリの見出しを**クリックすると、ポリシーをカテゴリ別に並べ替えることができます。  
  
4.  選択範囲を右クリックし、[**ポリシーのエクスポート**] をクリックします。  
  
5.  エクスポートするポリシーを複数選択した場合は、[**フォルダーの参照**] ダイアログボックスで、インストール先のフォルダーを選択するか、新しいフォルダーを作成します。 このレッスンでは、 **c:\ Scheduled_BP_Policies**というパスで新しいフォルダーを作成し、[ **OK]** をクリックします。  
  
     エクスポートするポリシーを1つだけ選択した場合は、[**ポリシーのエクスポート**] ダイアログボックスで、 **c:\ Scheduled_BP_Policies**というパスの新しいフォルダーを作成し、[**開く**] をクリックして、[**保存**] をクリックします。  
  
     .xml ポリシー ファイルがフォルダーの場所に作成されます。  
  
### <a name="to-deploy-the-scheduled-policies-to-servers-that-are-managed-through-registered-servers"></a>登録済みサーバーで管理されているサーバーにスケジュールされたポリシーを配置するには  
  
1.  
  **[表示]** メニューの **[登録済みサーバー]** をクリックします。  
  
2.  [**データベースエンジン**] を展開し、[**ローカルサーバーグループ**] または [**中央管理サーバー**] を展開して、ポリシーの展開先のノードを右クリックし、[**ポリシーのインポート**] をクリックします。  
  
    > [!NOTE]  
    >  **ローカルサーバーグループ**または中央管理サーバー自体を右クリックすると、すべての管理対象サーバーにポリシーが展開されます。 特定のサーバー グループを右クリックした場合、そのグループ内のサーバーだけにポリシーが配置されます。 特定の登録済みサーバーを右クリックした場合、そのサーバーだけにポリシーが配置されます。  
  
3.  [**インポートするファイル**] の横にある省略記号ボタン ([.**..**]) をクリックします。  
  
4.  **[ポリシーの選択**] ダイアログボックスで、スケジュールされたポリシーを保存したフォルダーの場所を参照します。 この例では、場所**c:\ Scheduled_BP_Policies**に移動します。  
  
5.  ターゲットインスタンスにインポートするポリシーを選択し、[**開く**] をクリックします。  
  
6.  [**インポート**] ダイアログボックスの [**ポリシーの状態**] ボックスの一覧で、目的のポリシーの状態を選択します。 ポリシーの状態を保存するか、インポート時にポリシーを有効または無効にするかを選択することができます。 ポリシーは、スケジュールに従って実行されるように有効にしておく必要があることに注意してください。  
  
7.  [ **OK** ] をクリックして、すべてのターゲットインスタンスにポリシーをインポートします。  
  
    > [!NOTE]  
    >  エラーが発生しても、[**インポート**] ダイアログボックスは表示されません。 [**ログ**] ページをクリックして、メッセージを確認します。 [**キャンセル**] をクリックして、ダイアログボックスを閉じます。  
  
8.  ターゲットインスタンスからポリシーを表示するには、インスタンスに接続し、オブジェクトエクスプローラーを開き、[**管理**]、[**ポリシー**] の順に展開します。 インポートされたポリシーが [**ポリシー**ノードに表示されます。 各ポリシーをダブルクリックすると、スケジュールを表示したり、設定を変更したりすることができます。  
  
    > [!NOTE]  
    >  スケジュールされたポリシーが実行された後に評価結果を表示するには、対象インスタンスのポリシー履歴ログを開きます。 ログを開くには、[**ポリシー管理**] を右クリックし、[**履歴の表示**] をクリックします。  
  
## <a name="summary"></a>まとめ  
 このチュートリアルでは、[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] の 1 つ以上のインスタンスに対して、ベスト プラクティス ポリシーの評価を要求時および定期的に実行する方法について学習しました。  
  
## <a name="next"></a>次へ  
 このチュートリアルはこれで終了です。 開始に戻るには、「[チュートリアル: ポリシーベースの管理を使用したベストプラクティスの評価](../../2014/tutorials/tutorial-evaluating-best-practices-by-using-policy-based-management.md)」を参照してください。  
  
 チュートリアルの[!INCLUDE[ssDE](../includes/ssde-md.md)]一覧を表示するには、[[データベースエンジンチュートリアル](../relational-databases/database-engine-tutorials.md)] をクリックします。  
  
## <a name="see-also"></a>参照  
 [ポリシー ベースの管理を使用したサーバーの管理](../relational-databases/policy-based-management/administer-servers-by-using-policy-based-management.md)  
  
  
