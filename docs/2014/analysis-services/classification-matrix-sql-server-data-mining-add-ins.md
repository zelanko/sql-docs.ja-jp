---
title: 分類マトリックス (SQL Server データ マイニング アドイン) |Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- analysis-services
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- mining models, validating
- classification matrix
- confusion table
- mining models, testing
ms.assetid: d6f620f4-39af-4714-9628-28ce3c361fca
caps.latest.revision: 14
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 3d87c2d37ed69e2cc3f3e224ddf1a489b34425b8
ms.sourcegitcommit: c18fadce27f330e1d4f36549414e5c84ba2f46c2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/02/2018
ms.locfileid: "37249642"
---
# <a name="classification-matrix-sql-server-data-mining-add-ins"></a>分類マトリックス (SQL Server データ マイニング アドイン)
  ![分類マトリックス ボタン、データ マイニング リボン](media/dmc-cmatrix.gif "分類マトリックス ボタン、データ マイニング リボン")  
  
 分類マトリックスを使用すると、予測で使用するモデルの精度を評価できます。 分類マトリックスを生成するには、モデルでテスト データのセットを実行し、分類マトリックス ツールを使用してテスト セットの実際の値とモデルで予測した値を比較します。 マトリックスを確認すると、モデルが正しい頻度とモデルの予測が間違っている頻度がひとめでわかります。  
  
 これらのアドインで、使用、**分類マトリックス**をモデルを選択し、テストのデータを指定し、結果マトリックスを生成し、ウィザード。  
  
## <a name="how-to-read-a-classification-matrix"></a>分類マトリックスの見方  
 たとえば、適切なレベルのインセンティブを顧客に提供できるように、顧客ロイヤリティ プログラムを設計して、顧客を適切なカテゴリに割り当てることが目標であるとします。 報酬プログラムとしてブロンズ、シルバー、ゴールドの 3 つのレベルを実装し、これらを試用段階で顧客に割り当てました。 また、顧客を分析し、適切なカテゴリを予測するモデルも設計しました。 これで、試用データで分類マトリックスを使用して、すべての顧客について適切な提供内容を予測する時点でモデルがどの程度適切であったかを判断できます。  
  
 分類マトリックスのテーブルから、モデルに基づいて各カテゴリに何人の顧客が割り当てられるかを確認し、その結果を各報酬レベルに実際に応募した顧客の人数と比較することができます。  
  
||ブロンズ (実際)|ゴールド (実際)|シルバー (実際)|  
|-|-----------------------|---------------------|-----------------------|  
|ブロンズ|**94.45%**|15.18%|1.70%|  
|ゴールド|2.72%|**84.82%**|0.00%|  
|シルバー|1.84%|0.00%|**93.80%**|  
|*そうです*|*95.45%*|*84.82%*|*98.30%*|  
|*誤分類*|*4.55%*|*15.18%*|*1.70%*|  
  
-   各列は、テスト データセット内の実際の値を示しています。  
  
-   各行は、予測値を示しています。  
  
-   マトリックスの左上から右下まで斜めに並んでいる太字の値は、モデルが正しく予測したことを示しています。  
  
-   この斜めに並んでいる値以外のすべての値は、エラーを示しています。 一部のエラーは偽陽性で、モデルは顧客がゴールド プログラムに応募すると予測したが、実際はそうではなかったことを意味しています。  扱う領域によっては、偽陽性が大きな損失を招く場合もあります。  
  
     その他のエラーは偽陰性で、モデルは顧客が興味を持たないと予測したが、実際はそれらの顧客がプログラムに応募したことを意味しています。 問題とする領域によっては、この機会損失が重大な影響を及ぼす可能性があります。  
  
## <a name="using-the-classification-matrix-wizard"></a>分類マトリックス ウィザードの使用  
  
1.  予測の基礎となるマイニング モデルを選択します。  
  
2.  新しいテスト データのソースを選択するか、構造と共に保存されているテスト データを使用します。  
  
3.  精度を評価する列を選択します。 マトリックスを作成するときに選択できるのは 1 列だけですが、列には複数の値を含めることができます。  
  
     ヒント: 予測可能な列に比較対象の列が数多く含まれている場合、分類マトリックスの解釈が難しくなる可能性があります。  
  
     **予測する列の選択** ページで、指定することできますも表示が正しくないと正しくない値の数または割合を表示するかどうか。  
  
4.  [ソース データの選択] ページでは、外部テスト データと、モデルと共に保存されたテスト データのどちらを使用するかを指定します。  
  
5.  外部テスト データを使用する場合に、入力列にモデルをマップする必要があります、**リレーションシップの指定**ウィザードのページ。  
  
     埋め込みテスト データセットを使用する場合、マッピングは自動的に実行されます。  
  
6.  クリックして**完了**をモデルに対して予測を実行し、分類マトリックスを生成します。  
  
     ウィザードにより、分類マトリックスおよび分析に関するその他の詳細を含むレポートが作成されます。 このレポートは、Excel のテーブルとして保存されます。レポートの概要には、正しく予測されたケースの数と、誤っていた予測の数が示されます。  
  
### <a name="requirements"></a>要件  
  
-   分類マトリックスを作成するには、精度の測定をサポートする既存のマイニング モデルにアクセスできる必要があります。 予測モデルおよびアソシエーション モデルは、このツールを使用して測定できません。  
  
-   測定するモデルは、不連続値、または既に分離されている値を予測する必要があります。  
  
-   構造またはモデルと共にテスト セットを保存するオプションを使用しなかった場合は、データ型が一致していて、モデルで使用される列と本質的に同じ数の列を含む入力データセットを取得する必要があります。  
  
-   データ マイニング モデルおよびテストに使用する新しいデータの両方に予測可能な列が 1 つ以上含まれ、なおかつ両列に同じ種類のデータが含まれていることが必要です。  
  
### <a name="known-issues"></a>既知の問題  
 SQL Server 2012 および SQL Server 2014 では、内部のテスト データ セットをモデルにマップする機能はなく操作、**分類マトリックス**ツール。 ただし、外部データ セットを指定して、元のデータ セットのエラーを特定するための入力としてトレーニング セットを選択することができます。  
  
## <a name="see-also"></a>参照  
 [モデルの検証と予測用モデルの使用&#40;データ マイニング Excel 用アドイン&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md)   
 [データの探索&#40;SQL Server データ マイニング アドイン&#41;](explore-data-sql-server-data-mining-add-ins.md)   
 [カテゴリの検出&#40;Excel 用テーブル分析ツール&#41;](detect-categories-table-analysis-tools-for-excel.md)  
  
  
