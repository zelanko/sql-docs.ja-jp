---
title: クラスターモデルの参照 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, browsing
- mining models, viewing
- clustering [data mining]
- mining model, clustering
ms.assetid: 7f3f0949-d791-403a-88e2-54cb1a803dae
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 4b2662a08974c0eee0eed58b21d77421b3b75749
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/08/2020
ms.locfileid: "66064679"
---
# <a name="browsing-a-clustering-model"></a>クラスター モデルの参照
  **参照**を使用してクラスターモデルを開くと、の[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]クラスタービューアーに似た対話型ビューアーにモデルが表示されます。 ビューアーは、作成されたクラスターを調査して、クラスターの特性を把握するのに役立ちます。 また、個々のセグメントを他のセグメントや母集団と比較対照することもできます。  
  
##  <a name="BKMK_Tabs"></a>モデルの調査  
 [**参照**] ウィンドウには、クラスターモデルを理解し、基になるデータグループの属性を調べるのに役立つ次のツールが用意されています。  
  
-   [クラスターダイアグラム](#BKMK_ClusterDiagram)  
  
-   [クラスターのプロファイル](#BKMK_ClusterProfiles)  
  
-   [クラスターの特性](#BKMK_ClusterCharacteristics)  
  
-   [クラスターの識別](#BKMK_ClusterDiscrimination)  
  
 クラスターモデルを試してみるには、サンプルデータブックの [トレーニング] タブにあるサンプルデータを使用して、[クラスターウィザード &#40;Excel 用データマイニングアドイン&#41;](cluster-wizard-data-mining-add-ins-for-excel.md)およびすべての既定値を使用してクラスターモデルを作成します。  
  
###  <a name="BKMK_ClusterDiagram"></a>クラスターダイアグラム  
 [**クラスターダイアグラム**] タブには、マイニングモデル内のすべてのクラスターが表示されます。 データセットに見つかった異なるグループの数、および、互いにどれぐらい近いか遠いかを確認できます。  
  
##### <a name="explore-the-cluster-diagram"></a>クラスター ダイアグラムの調査  
  
1.  ダイアグラムの [クラスター 1] をクリックします。  
  
     すべてのクラスターを接続する灰色の線が変化して、選択したクラスターにつながる線が明るい青色で強調表示されます。  
  
     ![クラスター ダイアグラムの紹介](media/dm13-cluster-diagram-intro.gif "クラスター ダイアグラムの紹介")  
  
     クラスターを結ぶ線の濃さは、クラスターの類似性の強度を表します。 網掛けが薄いか存在しない場合は、クラスターがあまり似ていません。 線が濃くなるほど、2 つのクラスターの類似性が強いことを表します。  
  
2.  クラスター ダイアグラムの左側にあるスライダーをドラッグすると、ビューアーに表示される線の数を調整できます。  
  
     スライダーをドラッグして下げると、クラスター間で最も強いリンクだけが表示されます。 これは関連のあるグループを目立たせるのに役立ちます。  
  
3.  **クラスターダイアグラム**ウィンドウの右上隅にある [**網掛け変数**] コントロールに注目してください。  
  
     既定では、[**母集団**] に設定されています。 つまり、クラスターの色が濃くなるほど、サポートが多いということです。  
  
4.  クラスターの上にマウス カーソルを置きます。  
  
     そのクラスターの母集団を含むツールヒントが表示されます。  
  
5.  次に、[**シェーディング変数**] ボックスの一覧をクリックし、 **Age**変数を選択します。 これを行うと、[**状態**] ボックスに値の一覧が表示されます。  
  
     このモデルへの入力として使用される Age 列には、連続する数値が含まれていますが、クラスタリングのために、アルゴリズムによって常に数値が分離されます。 ここでは、"非常に低い (\<= 27)" と "非常に高い (>= 63)" など、アルゴリズムによって作成されたビンまたはグループを確認できます。  
  
6.  [**状態**] ドロップダウンリストから [**非常に高い**] を選択し、ダイアグラムがどのように変化するかを確認します。  
  
     網掛け変数を変更することで、どのクラスターがこの対象の年齢層を多数含んでいるか、どのクラスターにこの年齢層の顧客が少ないかがひとめでわかります。  
  
     ![年齢を表示するようにクラスター ダイアグラムを変更](media/dm13-cluster-diagramshadebyage.gif "年齢を表示するようにクラスター ダイアグラムを変更")  
  
     網掛けが濃いほど、そのクラスターの対象属性の比率と値の分布が大きくなります。  
  
7.  **シェーディング変数**が Age >65 に設定されている場合は、影が最も暗いクラスターを見つけます。  
  
     そのクラスターの上にマウス カーソルを合わせます。  
  
     ツールヒントに表示される値は、このクラスターで 65 歳を超える顧客の人数です。  
  
8.  クラスターを右クリックし、[**クラスター名の変更**] を選択します。 「 **65 を超える**」など、わかりやすい新しい名前を入力します。 新しい名前はモデルと共にサーバーに保存され、他のクラスター ビューでクラスターを識別するときに使用できます。  
  
 [トップに戻る](#BKMK_Tabs)  
  
###  <a name="BKMK_ClusterProfiles"></a>クラスターのプロファイル  
 [**クラスターのプロファイル**] タブでは、すべてのクラスターの作成を一目で比較できます。 モデルに慣れる過程では、この機能から始めることをお勧めします。 このビューは後で、特定のクラスターの調査中に関連クラスターを見つける必要が生じた場合にも役立ちます。  
  
 **クラスターのプロファイル**では、クラスターが相互にどのように異なるかについての概要もわかります。 そこで、このビューを使用して、各クラスターにわかりやすい名前を付けると便利です。  
  
##### <a name="explore-the-cluster-profiles"></a>クラスターのプロファイルの調査  
  
1.  [**状態**] 列の職業のセルをクリックすると、職業のすべての値の一覧が表示されます。  
  
2.  クラスターのプロファイルで [Occupation] (職業) の上にマウス カーソルを移動します。  
  
     ツールヒントに、そのクラスターの職業分布が表示されます。  
  
     ![ツール ヒントまたは凡例に詳細な値を表示](media/dm13-cluster-profile-age-tooltip.gif "ツール ヒントまたは凡例に詳細な値を表示")  
  
     クラスターによっては (グラフィックのようなものもあります)、職業のリストが完全ではなく、一部の職業がラベルである [**その他**] に置き換えられていることに注意してください。  
  
     これは仕様です。ヒストグラムで多数の小さなバーを区別するのは難しいためです。 既定では、重要度が最も高いバーだけが保持され、残りのバーは灰色**の他**のバケットにまとめられます。  
  
     ヒストグラムに表示されるバーの数を変更するには、[**ヒストグラムバー**] オプションを使用します。  
  
3.  **Age**列は他の列とは異なることに注意してください。 グラフで Age を表すダイヤモンドをクリックします。  
  
     Age 列はもともと連続する数値のみを含んでいました。 クラスター アルゴリズムでは不連続値が必要であるため、Age 列の数値は、値の分布に基づいて限られた数の年齢層にグループ分けされています。  
  
4.  クラスターのプロファイルでダイヤモンド グラフの 1 つをクリックします。  
  
     これらのダイヤモンド グラフは、ソース データが連続する数値を使用する場合にのみ表示されます。 ダイヤモンド グラフは、各クラスターでのその値の平均値と標準偏差など、便利な統計情報を示します。  
  
    -   ダイヤモンド グラフの線は、属性の値の範囲を表します。 値は、**プロファイル**グラフの左側にある [**状態**列にも表示されます。  
  
    -   ダイヤモンドの中心は、ノードの平均値に配置されます。  
  
    -   ダイヤモンドの幅は、そのノードにおける属性の分散を表します。 そのため、ダイヤモンドの幅が狭いほど、そのノードでより正確な予測を作成できることを示します。  
  
5.  グラフの領域を増やすには、すぐに表示する必要のないクラスターを右クリックし、[**列の非表示**] を選択します。 これによってモデルから削除されることはありません。列を一時的に折りたたんでください。  
  
     非表示にしたクラスターを表示するには、列の端をクリックしてドラッグする**か、クラスター**の一覧からクラスター名を選択します。  
  
6.  属性一覧をスクロールして [Bike Buyer] (自転車購入者) を見つけ、[Yes] (はい) の値の割合が最も高いクラスターを見つけます。  
  
     名前を変更するクラスターの列見出しを右クリックし、[**クラスター名の変更**] を選択して、「**自転車購入**者」と入力します。  
  
     新しいクラスター名は、モデルを再処理するまで、すべてのビューとサーバーで保持されます。  
  
     ![クラスター名を変更してグラフの使いやすさを向上](media/dm13-cluster-rename.gif "クラスター名を変更してグラフの使いやすさを向上")  
  
 **テクニック**  
  
-   そのクラスターの属性を重要度順に並べ替えるには、列見出しをクリックします。  
  
-   ビューアーで列の順序を変更するには、列をドラッグします。  
  
-   [**マイニング凡例**] の詳細な統計情報を表示するには、プロファイルグラフの任意のセルをクリックします。  
  
-   任意のセルを右クリックして [**ドリルスルーモデル列**] を選択すると、基になるデータが Excel の新しいワークシートに出力されます。  
  
-   クラスターの列見出しを右クリックし、[**構造データへのドリルスルー** ] を選択して、モデルに含まれていないクラスターメンバーに関する詳細情報を取得します。  
  
     たとえば、顧客をプロファイリングする場合、基になるデータ (マイニング構造) に連絡先情報を残しておくことはできますが、モデルには含まれません。これは、分析には役立たないためです。 しかし、顧客がクラスターに割り当てられた後は、ドリルスルーを使用して詳細データを表示することができます。  
  
 [トップに戻る](#BKMK_Tabs)  
  
###  <a name="BKMK_ClusterCharacteristics"></a>クラスターの特性  
 [クラスターの特性] ビューでは、単一のクラスターを本格的に調査して、どの属性がこのデータ グループの最も強い特性となっているかを調べることができます。  
  
##### <a name="explore-the-cluster-characteristics"></a>クラスターの特性の調査  
  
1.  [**クラスター** ] ボックスの一覧から [**超過 65**クラスター] を選択します。  
  
     クラスターを選択した後、そのクラスターを構成する特性を詳細に確認することができます。  
  
     クラスターに含まれている属性は **[変数]** 列に表示され、属性の状態は **[値]** 列に表示されます。  
  
     属性の状態は、[確率] の順に一覧表示され、このクラスターの確率と共に [**確率**] 列に色付きのバーとして表されます。  
  
     ![クラスター モデルの特性](media/dm13-cluster-characteristics.gif "クラスター モデルの特性")  
  
2.  [**変数**] 列をクリックして、属性で並べ替えます。  
  
     並べ替え変数を変更すると、収入や自動車所有のような変数について、グループ内での値の分布状況を簡単に確認できます。  
  
3.  [ **Excel にコピー] を**クリックします。  
  
     新しいワークシートが、選択したクラスターの特性を含むブックに追加されます。  
  
4.  次に、[**自転車購入**者] ボックスの一覧から別のクラスターを選択します。  
  
5.  [ **Excel にコピー] を**クリックします。  
  
     新しいクラスター特性グラフは、独自のワークシートに追加されます。 他のプロファイルと同じワークシートに移動して、比較しやすくすることができます。これは、次の手順で行います。  
  
 **テクニック**  
  
-   65クラスターでは、顧客が製品を購入しないという主な特性があることに注意してください。 この理由を知るには、クラスターを参照してグループを比較します。または、デシジョン ツリー モデルや Naïve Bayes モデルなど、因果関係の調査に適したアルゴリズムを使用して関連モデルを作成します。  
  
-   このクラスター (またはすべてのクラスター) の属性と確率の完全な一覧を取得するには、クエリを作成します。 クラスターモデルのクエリの例については、「[クラスタリングモデルのクエリ例](data-mining/clustering-model-query-examples.md)」を参照してください。  
  
 [トップに戻る](#BKMK_Tabs)  
  
###  <a name="BKMK_ClusterDiscrimination"></a>クラスターの識別  
 [クラスターの**識別**] タブを使用すると、2つのクラスター間、またはクラスターと、データセット内の他のすべてのケースの間で属性を比較できます。  
  
 このビューアーの機能を強調表示するには、[**クラスターの特性**] ビューに基づいて作成した Excel のサイドバイサイドのテーブルと比較します。  
  
##### <a name="explore-cluster-discrimination"></a>クラスターの識別の調査  
  
1.  
  **[クラスター 1]** と **[クラスター 2]** の一覧を使用して、比較するクラスターを選択します。  
  
    -   [クラスター 1] ボックスでは [Over 65] (65 歳超) をクリックします。  
  
    -   [クラスター 2] ボックスでは、[Bike Buyers] (自転車購入者) をクリックします。  
  
     比較結果は次の図のようになります。  
  
     ![モデル内のクラスターの比較](media/dm13-cluster-compareclusters.gif "モデル内のクラスターの比較")  
  
     内部的には、**クラスター識別**ビューアーは複雑なクエリをデータマイニングサーバーに送信し、2つのグループを区別するために最も重要な属性を抽出して、2つの顧客のセットを比較しやすくします。  
  
2.  [**優先**] 列のいずれかをクリックします。  
  
     属性と値一覧の右側にあるバーは、選択したクラスターの特性として、どの特徴または値が最も重要かを示しています。  
  
3.  今度は Excel で一覧を比較します。  
  
     ![アソシエーション モデルの依存関係ネットワーク グラフ](media/dm13-comparing-profiles-in-excel.gif "アソシエーション モデルの依存関係ネットワーク グラフ")  
  
     ビューアーで画像の作成に使用された基になる統計は、テーブルとして Excel に保存されるため、フィルターと並べ替え、実際の確率値の表示ができます。  
  
     Excel の使用に加えて、Visio 用のクラスター ビューアーを試すことをお勧めします。データ ポイントを表示できる他に、グラフを全面的に変更し強化することもできます。 詳細については、「[クラスターダイアグラムのチュートリアル &#40;データマイニングアドイン&#41;](cluster-diagram-walkthrough-data-mining-add-ins.md)」を参照してください。  
  
 **テクニック**  
  
 いくつかの洞察を顧客のグループに提供した後、What-if シナリオ &#40;使用して、excel[用のテーブル分析ツール&#41;](what-if-scenario-table-analysis-tools-for-excel.md)またはゴールシークシナリオを使用して、 [excel&#41;ツールのテーブル分析ツールを &#40;](goal-seek-scenario-table-analysis-tools-for-excel.md)して、結果に影響を与えるように変更される可能性のある要素を調査します。  
  
## <a name="see-also"></a>参照  
 [Excel &#40;SQL Server データマイニングアドインのモデルの参照&#41;](browsing-models-in-excel-sql-server-data-mining-add-ins.md)   
 [クラスターウィザード &#40;Excel 用データマイニングアドイン&#41;](cluster-wizard-data-mining-add-ins-for-excel.md)  
  
  
