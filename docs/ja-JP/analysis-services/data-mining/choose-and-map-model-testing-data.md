---
title: 選択し、モデルのテスト データをマップ |Microsoft ドキュメント
ms.date: 05/01/2018
ms.prod: sql
ms.technology: analysis-services
ms.component: data-mining
ms.topic: article
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: d74352fcb3564eda40257430ff442f622fcec89e
ms.sourcegitcommit: 2ddc0bfb3ce2f2b160e3638f1c2c237a898263f4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/03/2018
---
# <a name="choose-and-map-model-testing-data"></a>モデルのテスト データの選択およびマップ
[!INCLUDE[ssas-appliesto-sqlas](../../includes/ssas-appliesto-sqlas.md)]
  [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] で精度チャートを作成するには、モデルのテストに使用されるデータを選択し、データをモデルにマップする必要があります。  
  
 既定では、予約データ セットをマイニング構造の構築時に作成した場合、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ではマイニング モデルのテスト データが使用されます。 予約テスト セットを作成すると、列名とデータ型は常にモデルと一致し、データの分布が類似することを合理的に想定できるため、同じマイニング構造に基づくモデルを最も簡単にテストできます。 また、デザイナーでは入力列とモデル列間のリレーションシップが自動的に作成されます。  
  
 または、データの外部ソースを指定できます。 外部データについては、いくつかの追加要件があります。  
  
-   外部データ セットは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]のインスタンスでデータ ソース ビューとして定義されている必要があります。  
  
-   外部データ セットには、マイニング モデルの予測可能列にマッピングできる列が 1 つ以上含まれている必要があります。 いくつかの列を無視することを選択できます。  
  
-   新しい列を追加したり、別のデータ ソース ビューの列をマップしたりすることはできません。 選択したデータ ソース ビューには、予測クエリに必要なすべての列が含まれている必要があります。  
  
-   外部列名がモデルの列名と正確に一致する場合は、デザイナーによってマップされます。 マッピングが正しくない場合は、マッピングを変更するか、削除して既存の列に新しいマッピングを作成できます。  
  
-   外部データ ソースを使用する場合は、フィルターを適用して、テスト データを関連するケースのサブセットに制限できます。  
  
-   予約テスト セットを使用する場合でも、フィルターが原因でマイニング構造に関連付けられているテスト データとマイニング モデルのテスト ケースとが異なる可能性があることに注意する必要があります。  
  
 このトピックでは、テスト データを選択およびマップする方法について説明します。  
  
 [マイニング モデルの精度をテストするための入力テーブルの選択](#bkmk_SelectInputs)  
  
 [モデル列からテスト データの列へのマップ](#bkmk_MapColumns)  
  
 [テスト データの列がモデルにマップされる方法の変更](#bkmk_ChangeMappings)  
  
##  <a name="bkmk_SelectInputs"></a> マイニング モデルの精度をテストするための入力テーブルを選択するには  
  
1.  [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]のデータ マイニング デザイナーで、チャートを作成するモデルを含むマイニング構造をダブルクリックします。  
  
2.  **[マイニング精度チャート]** タブをクリックします。  
  
3.  **[マイニング精度チャート]** ビューの **[入力の選択]** タブで、次のオプションのいずれかを選択します。  
  
     **[マイニング モデルのテスト ケースを使用する]**  
  
     **[マイニング構造のテスト ケースを使用する]**  
  
     **[別のデータセットを指定する]**  
  
4.  **[別のデータセットを指定する]** を選択した場合は、必要に応じて **[フィルター エディターを開く]** をクリックし、入力データセットのフィルター条件を作成します。 [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
5.  **[リフト チャート]** タブまたは **[分類マトリックス]** タブをクリックすると、指定したテスト データを使用して自動的にチャートが作成されます。  
  
##  <a name="bkmk_MapColumns"></a> モデル列をテスト データの列にマップするには  
  
1.  チャートを作成するモデルを含むマイニング構造をダブルクリックし、データ マイニング デザイナーで構造とモデルを開きます。  
  
2.  **[マイニング精度チャート]** タブを選択し、次に **[入力の選択]** タブを選択します。  
  
3.  **[入力の選択]** タブの **[精度チャートに使用するデータセットの選択]** で、 **[別のデータセットを指定する]** を選択します。  
  
4.  参照ボタン ( **[...]** ) をクリックしてダイアログ ボックスを開き、外部データ セットの定義を作成します。  
  
5.  **[マイニング構造の選択]** ダイアログ ボックスで、操作するモデルを含んでいるマイニング構造を選択し、 **[OK]** をクリックします。  
  
6.  **[マイニング精度チャート]** タブにある **[入力テーブルの選択]** テーブルで、 **[ケース テーブルの選択]** をクリックして、 **[テーブルの選択]** ダイアログ ボックスを開きます。  
  
7.  **[テーブルの選択]** ダイアログ ボックスで、データ ソースを **[データ ソース]** 一覧から選択します。 モデルの精度を測定するために予測クエリで使用するデータが含まれているテーブルを選択します。  
  
8.  **[テーブル名またはビュー名]** ボックスで、モデルのテストに使用するデータが含まれているテーブルを選択します。  
  
9. 必要に応じてマッピングを編集します。 マイニング構造の列が入力テーブルの同じ名前の列に自動的にマップされます。 **[入力テーブルの選択]** テーブルの列をクリックし、 **[マイニング構造]** テーブルの対応する列にドラッグして、マッピングを手動で作成することもできます。 マッピングを削除するには、 **[マイニング構造]** テーブルの列が **[入力テーブルの選択]** テーブル内のマップ先の列にリンクしている線をクリックし、Del キーを押します。  
  
10. [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
##  <a name="bkmk_ChangeMappings"></a> 入力データがモデルにマップされる方法を変更するには  
  
1.  データ マイニング デザイナーで、チャートを作成するモデルを含んだ構造をダブルクリックします。  
  
2.  **[マイニング精度チャート]** タブをクリックします。  
  
3.  **[入力の選択]** タブをクリックします。  
  
4.  **[精度チャートに使用するデータセットの選択]** で、 **[別のデータセットを指定する]** を選択します。  
  
5.  参照ボタン ( **[...]** ) をクリックしてダイアログ ボックスを開き、外部データ ソースの定義を作成します。  
  
6.  **[列マッピングの指定]** ダイアログ ボックスで、 **[ケース テーブルの選択]** をクリックします。  
  
7.  [テーブルの選択] ダイアログ ボックスで、一覧からデータ ソース ビューを選択し、ケース データが含まれているテーブルを選択します。 [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
8.  必要なテーブルがない場合は、ダイアログ ボックスを閉じ、対象のテーブルを含む新しいデータ ソース ビューを作成します。 データソースビューの作成方法については、「[データ ソース ビューの定義 &#40;Analysis Services&#41;](../../analysis-services/multidimensional-models/defining-a-data-source-view-analysis-services.md)」を参照してください。  
  
9. マイニング モデルに入れ子になったテーブルが含まれている場合は、**[入れ子になったテーブルの選択]** をクリックし、データ ソース ビューのテーブルの一覧から入れ子になったテーブルを選択します。 [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
10. 変更するマッピングの結合線を選択し、 **[接続の変更]** をクリックします。  
  
     **[マッピングの変更]** ダイアログ ボックスが開きます。 このダイアログ ボックスのテーブルの **[マイニング構造列]** には、選択されたマイニング構造に含まれている各列が一覧表示され、 **[テーブル列]** には、マイニング構造内の列にマップされている入力テーブルの列が一覧表示されます。  
  
11. **[テーブル列]** で、リレーションシップを変更する **[マイニング構造列]** の下の行に対応する行を選択します。 一覧から新しい列を選択するか、一覧から空白エントリを選択して列を削除します。  
  
12. [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
     **[列マッピングの指定]** ダイアログ ボックスに、新しい列マッピングが表示されます。 2 つの列を結ぶ線を選択して Del キーを押すと、マッピングを削除できます。 **[マイニング構造]** テーブルで列を選択し、 **[入力テーブルの選択]** テーブルの対応する列にドラッグすると、新しい接続を作成できます。  
  
## <a name="see-also"></a>参照  
 [テストおよび検証タスクと操作方法 &#40;データ マイニング&#41;](../../analysis-services/data-mining/testing-and-validation-tasks-and-how-tos-data-mining.md)  
  
  
