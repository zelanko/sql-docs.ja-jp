---
title: DB2 データベースへの接続 (DB2ToSQL) |Microsoft Docs
description: Db2 データベースを移行するために DB2 データベースのターゲットインスタンスに接続する方法について説明します。 SSMA は、すべての DB2 スキーマに関するメタデータを取得します。
ms.prod: sql
ms.custom: ''
ms.date: 07/14/2020
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
ms.assetid: 5eb5801d-f0c3-4127-97c0-0b1ef49f4844
author: nahk-ivanov
ms.author: alexiva
ms.openlocfilehash: 9372a12b6ebaa47096c4ad8b6429db61b00a6188
ms.sourcegitcommit: a41e1f4199785a2b8019a419a1f3dcdc15571044
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/13/2020
ms.locfileid: "91987458"
---
# <a name="connecting-to-db2-database-db2tosql"></a>DB2 データベースへの接続 (DB2ToSQL)

DB2 データベースをに移行するには [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 、移行する db2 データベースに接続する必要があります。 接続すると、SSMA はすべての DB2 スキーマに関するメタデータを取得し、DB2 メタデータエクスプローラーウィンドウに表示します。 SSMA は、データベースサーバーに関する情報を格納しますが、パスワードは保存しません。

データベースへの接続は、プロジェクトを閉じるまでアクティブなままになります。 プロジェクトを再度開いたときに、データベースへのアクティブな接続が必要な場合は、再接続する必要があります。

DB2 データベースに関するメタデータは自動的に更新されません。 代わりに、DB2 メタデータエクスプローラーでメタデータを更新する場合は、手動で更新する必要があります。 詳細については、このトピックで後述する「DB2 メタデータの更新」を参照してください。

## <a name="required-db2-permissions"></a>必要な DB2 アクセス許可

ユーザー承認では、ユーザーが使用できるコマンドとオブジェクトの一覧を定義します。 この一覧は、ユーザーの操作を制御します。 DB2 では、承認のために事前に定義された権限グループが、インスタンスレベルと DB2 データベースのレベルの両方で存在します。 これにより、SSMA は、接続しているユーザーが所有するスキーマからメタデータを取得できるようになります。 他のスキーマのオブジェクトのメタデータを取得し、そのスキーマ内のオブジェクトを変換するには、アカウントに次の権限が必要です。

- CREATE で RESTRICT キーワードが使用されていない限り、通常、スキーマの移行のためのスキーマアクセスは PUBLIC に付与されます。
- データ移行のためのデータアクセスにはデータアクセスが必要

## <a name="establishing-a-connection-to-db2"></a>DB2 への接続の確立

データベースに接続すると、SSMA によってデータベースのメタデータが読み取られ、このメタデータがプロジェクトファイルに追加されます。 このメタデータは、SSMA がオブジェクトを構文に変換するとき、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] およびにデータを移行するときに使用され [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ます。 このメタデータは、DB2 の [メタデータエクスプローラー] ペインで参照して、個々のデータベースオブジェクトのプロパティを確認できます。  

> [!IMPORTANT]
> 接続を試行する前に、データベースサーバーが実行されていて、接続を受け入れることができることを確認してください。

**DB2 に接続するには**

1. [ **ファイル** ] メニューの [ **DB2 への接続**] を選択します。

   以前に DB2 に接続していた場合、コマンド名は **db2 に再接続**されます。

2. [ **プロバイダー** ] ボックスには、現在唯一の DB2 クライアントアクセスプロバイダーである **OLE DB プロバイダー** が表示されます。

3. [**マネージャー** ] ボックスで、 **Db2 for zos**、db2 **for Luw** 、または**db2 for i**を選択できます。

4. [ **モード** ] ボックスで、[ **標準モード**] または [ **接続文字列モード**] を選択します。

   サーバー名とポートを指定するには、標準モードを使用します。 サービス名モードを使用して、DB2 サービス名を手動で指定します。 接続文字列モードを使用して、完全な接続文字列を指定します。

5. [標準] **モード**を選択した場合は、次の値を指定します。

   - [ **サーバー名** ] ボックスで、データベースサーバーの名前または IP アドレスを入力または選択します。
   - データベースサーバーが既定のポート (1521) で接続を受け入れるように構成されていない場合は、[ **サーバーポート** ] ボックスに DB2 接続に使用するポート番号を入力します。
   - [ **サーバーポート** ] ボックスに、tcp/ip ポート番号を入力します。
   - [ **初期カタログ** ] ボックスに、データベース名を入力します。
   - [ **ユーザー名** ] ボックスに、必要なアクセス許可を持つ DB2 アカウントを入力します。
   - [ **パスワード** ] ボックスに、指定したユーザー名のパスワードを入力します。

6. **接続文字列モード**を選択した場合は、[**接続文字列**] ボックスに接続文字列を指定します。

   次の例は、OLE DB 接続文字列を示しています。

   `Provider=OraOLEDB.DB2;Data Source=MyDB2DB;User Id=myUsername;Password=myPassword;`

   次の例は、統合セキュリティを使用する DB2 クライアント接続文字列を示しています。
  
   `Data Source=MyDB2DB;Integrated Security=yes;`

   詳細については、「 [Connect To Oracle &#40;OracleToSQL&#41;](../../ssma/oracle/connect-to-oracle-oracletosql.md)」を参照してください。
  
## <a name="reconnecting-to-db2"></a>DB2 への再接続

データベースサーバーへの接続は、プロジェクトを閉じるまでアクティブなままになります。 プロジェクトを再度開いたときに、データベースへのアクティブな接続が必要な場合は、再接続する必要があります。 メタデータを更新したり、データベースオブジェクトをに読み込んだり、データを移行したりするまで、オフラインで作業することができ [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ます。

## <a name="refreshing-db2-metadata"></a>DB2 メタデータの更新

DB2 データベースに関するメタデータは自動的には更新されません。 DB2 メタデータエクスプローラーのメタデータは、最初に接続したとき、またはメタデータを手動で更新したときにメタデータのスナップショットになります。 すべてのスキーマ、単一のスキーマ、または個々のデータベースオブジェクトのメタデータを手動で更新できます。

**メタデータを更新するには**

1. データベースに接続していることを確認します。
2. DB2 メタデータエクスプローラーで、更新する各スキーマまたはデータベースオブジェクトの横にあるチェックボックスをオンにします。
3. [ **スキーマ**]、または個々のスキーマまたはデータベースオブジェクトを右クリックし、[ **データベースから更新**] を選択します。

   アクティブな接続がない場合は、[ **DB2 に接続** ] ダイアログボックスが表示され、接続できるようになります。
  
4. [データベースから更新] ダイアログボックスで、更新するオブジェクトを指定します。
   - オブジェクトを更新するには、オブジェクトの横にある **アクティブ** フィールドをクリックして、矢印が表示されるようにします。
   - オブジェクトが更新されないようにするには、 **X**が表示されるまで、オブジェクトの横にある**アクティブな**フィールドをクリックします。
   - オブジェクトのカテゴリを更新または拒否するには、category フォルダーの横にある **アクティブな** フィールドをクリックします。

     色分けの定義を表示するには、[ **凡例** ] ボタンをクリックします。

5. [!INCLUDE[click OK](../../includes/clickok-md.md)]

## <a name="next-step"></a>次の手順

- 移行プロセスの次の手順では、 [SQL Server に接続](./connecting-to-sql-server-db2etosql.md)します。

## <a name="see-also"></a>参照

- [DB2 データベースを SQL Server &#40;DB2ToSQL&#41;に移行する ](../../ssma/db2/migrating-db2-databases-to-sql-server-db2tosql.md)