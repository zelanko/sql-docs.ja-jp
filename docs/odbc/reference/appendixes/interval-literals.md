---
title: Interval リテラル |Microsoft Docs
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- data types [ODBC], interval data types
- interval literals [ODBC]
- interval data type [ODBC], literals
ms.assetid: f9e6c3c7-4f98-483f-89d8-ebc5680f021b
author: MightyPen
ms.author: genemi
ms.openlocfilehash: e90f7683c13d8693529c60f1ba893bd645920bb2
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/08/2020
ms.locfileid: "68041910"
---
# <a name="interval-literals"></a>Interval のリテラル
ODBC では、すべてのドライバーで SQL_CHAR または SQL_VARCHAR データ型からすべての C interval データ型への変換がサポートされている必要があります。 ただし、基になるデータソースで interval データ型がサポートされていない場合、ドライバーは、これらの変換をサポートするために、[SQL_CHAR] フィールドの値の正しい形式を認識している必要があります。 同様に、ODBC では、任意の ODBC C 型が SQL_CHAR または SQL_VARCHAR に変換可能である必要があるため、ドライバーは、文字フィールドに格納されている間隔の形式を認識している必要があります。 このセクションでは、間隔リテラルの構文について説明します。この構文では、ドライバーライターは、C の interval データ型の間で変換中に SQL_CHAR フィールドを検証するために使用する必要があります。  
  
> [!NOTE]  
>  Interval リテラルの完全な BNF 構文については、「付録 C: SQL 文法」の「 [Interval リテラル構文](../../../odbc/reference/appendixes/interval-literal-syntax.md)」を参照してください。  
  
 Interval リテラルを SQL ステートメントの一部として渡すには、interval リテラルに対してエスケープ句の構文を定義します。 詳細については、「[日付、時刻、およびタイムスタンプリテラル](../../../odbc/reference/develop-app/date-time-and-timestamp-literals.md)」を参照してください。  
  
 間隔のリテラルの形式は次のとおりです。  
  
```  
INTERVAL[<sign>] 'value' <interval qualifier>  
```  
  
 "INTERVAL" は、文字リテラルが間隔であることを示します。 符号は、正符号または負符号 (+) のいずれかにすることができます。この値は間隔の文字列の外側にあり、省略可能です。  
  
 間隔修飾子には、1つの datetime フィールドを指定することも、2つの datetime フィールドで\<構成することもできます。この場合、*先頭のフィールド*> \<*末尾のフィールド*> になります。  
  
-   間隔が1つのフィールドで構成されている場合、1つのフィールドには、省略可能な先頭の有効桁数をかっこで囲んだ2番目のフィールドを指定できます。 また、1つの datetime フィールドには、省略可能な先頭の有効桁数、かっこで囲まれた省略可能な秒の有効桁数、またはその両方を伴う2番目のフィールドを指定することもできます。 秒のフィールドに先頭の有効桁数と秒の小数部の有効桁数の両方がある場合は、コンマで区切られます。 秒の小数点以下桁数が秒の小数部の有効桁数である場合は、有効桁数も指定する必要があります。  
  
-   間隔が先頭と末尾のフィールドで構成されている場合、先頭のフィールドは2番目のフィールドであり、かっこで囲んだフィールドの有効桁数が指定されることがあります。 末尾のフィールドには、2番目以外のフィールドまたは2番目のフィールドを指定できます。このフィールドには、かっこ内の秒の小数部の有効桁数が含まれる場合があります。  
  
 *値*の間隔文字列は単一引用符で囲まれます。 年、月リテラル、または日時リテラルを指定できます。 *値*の文字列の形式は、次の規則によって決定されます。  
  
-   文字列には、 \<*間隔**修飾子*> によって暗黙的に指定されるすべてのフィールドの10進値が含まれます。  
  
-   間隔の精度に年と月のフィールドが含まれている場合、これらのフィールドの値はマイナス記号で区切られます。  
  
-   間隔の有効桁数に日と時間のフィールドが含まれている場合、これらのフィールドの値はスペースで区切られます。  
  
-   間隔の有効桁数に時間と下限のフィールド (分と秒) が含まれている場合、これらのフィールドの値はコロンで区切られます。  
  
-   間隔の有効桁数に2番目のフィールドが含まれており、指定された秒の精度または暗黙的な秒の有効桁数が0以外の場合、2番目の小数部の最初の桁の最初の桁の直前の文字がピリオドになります。  
  
-   次の場合を除き、フィールドの長さは3桁を超えることはできません。  
  
    -   先頭フィールドの値は、指定された間隔または暗黙的な有効桁数である必要があります。  
  
    -   2番目のフィールドの小数部は、指定された秒の有効桁数または暗黙的な秒数にすることができます。  
  
    -   末尾のフィールドは、グレゴリオ暦の通常の制約に従います。 (「[グレゴリオ暦の制約](../../../odbc/reference/appendixes/constraints-of-the-gregorian-calendar.md)」を参照してください)。  
  
 次の表に、間隔の ODBC escape 句に含まれる有効な間隔リテラルの例を示します。 エスケープ句の構文は次のとおりです。  
  
> [!NOTE]  
>  *{INTERVAL sign interval-string INTERVAL-qualifier}*  
  
|Literal escape 句|指定された間隔|  
|---------------------------|------------------------|  
|{INTERVAL ' 326 ' 年 (4)}|326年の間隔を指定します。 間隔の先頭の有効桁数は4です。|  
|{INTERVAL ' 326 ' MONTH (3)}|326か月の間隔を指定します。 間隔の先頭の有効桁数は3です。|  
|{INTERVAL ' 3261 ' 日 (4)}|3261日の間隔を指定します。 間隔の先頭の有効桁数は4です。|  
|{INTERVAL ' 163 ' HOUR (3)}|163日の間隔を指定します。 間隔の先頭の有効桁数は3です。|  
|{INTERVAL ' 163 ' 分 (3)}|163分の間隔を指定します。 間隔の先頭の有効桁数は3です。|  
|{INTERVAL ' 223.16 ' SECOND (3, 2)}|223.16 秒の間隔を指定します。 間隔の先頭の有効桁数は3で、秒の有効桁数は2です。|  
|{INTERVAL ' 163-11 ' 年 (3) から月}|163年と11か月の間隔を指定します。 間隔の先頭の有効桁数は3です。|  
|{INTERVAL ' 163 12 ' DAY (3) TO HOUR}|163日と12時間の間隔を指定します。 間隔の先頭の有効桁数は3です。|  
|{INTERVAL ' 163 12:39 ' DAY (3) TO MINUTE}|163日、12時間、および39分の間隔を指定します。 間隔の先頭の有効桁数は3です。|  
|{INTERVAL ' 163 12:39: 59.163 ' DAY (3) TO SECOND (3)}|163日、12時間、39分、および59.163 秒の間隔を指定します。 間隔の先頭の有効桁数は3で、秒の有効桁数は3です。|  
|{INTERVAL ' 163:39 ' HOUR (3) TO MINUTE}|163時間と39分の間隔を指定します。 間隔の先頭の有効桁数は3です。|  
|{INTERVAL ' 163:39: 59.163 ' HOUR (3) TO SECOND (4)}|163時間、39分、および59.163 秒の間隔を指定します。 間隔の先頭の有効桁数は3で、秒の有効桁数は4です。|  
|{INTERVAL ' 163: 59.163 ' MINUTE (3) TO SECOND (5)}|163分と59.163 秒の間隔を指定します。 間隔の先頭の有効桁数は3で、秒の有効桁数は5です。|  
|{INTERVAL-' 16 23:39: 56.23 ' DAY TO SECOND}|-16 日、23時間、39分、および56.23 秒の間隔を指定します。 暗黙の先頭の有効桁数は2で、暗黙の秒の有効桁数は6です。|  
  
 次の表に、無効な間隔リテラルの例を示します。  
  
|Literal escape 句|無効な理由|  
|---------------------------|------------------------|  
|{INTERVAL ' 163 ' HOUR (2)}|間隔の先頭の有効桁数は2ですが、先頭のフィールドの値は163です。|  
|{INTERVAL ' 223.16 ' SECOND (2, 2)}<br /><br /> {INTERVAL ' 223.16 ' SECOND (3, 1)}|最初の例では、先頭の有効桁数が小さすぎて、2番目の例では秒の有効桁数が小さすぎます。|  
|{INTERVAL ' 223.16 ' SECOND}<br /><br /> {INTERVAL ' 223 ' YEAR}|先頭の有効桁数が指定されていないため、既定値は2です。これは、指定されたリテラルを保持するには小さすぎます。|  
|{INTERVAL ' 22.1234567 ' SECOND}|秒の有効桁数は指定されていないため、既定値は6です。 リテラルは、小数点の後に7桁の数字を持ちます。|  
|{INTERVAL ' 163-13 ' 年 (3) から月}<br /><br /> {INTERVAL ' 163 65 ' DAY (3) TO HOUR}<br /><br /> {INTERVAL ' 163 62:39 ' DAY (3) TO MINUTE}<br /><br /> {INTERVAL ' 163 12: 125: 59.163 ' DAY (3) TO SECOND (3)}<br /><br /> {INTERVAL ' 163:144 ' HOUR (3) TO MINUTE}<br /><br /> {INTERVAL ' 163: 567: 234.163 ' HOUR (3) TO SECOND (4)}<br /><br /> {INTERVAL ' 163: 591.163 ' MINUTE (3) TO SECOND (5)}|末尾のフィールドは、グレゴリオ暦の規則に従っていません。|
