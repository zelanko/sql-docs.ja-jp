---
title: DQS アクティビティの監視
ms.date: 03/01/2017
ms.prod: sql
ms.prod_service: data-quality-services
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql13.dqs.administration.activitymonitoring.f1
helpviewer_keywords:
- monitoring activity
- activity monitoring
ms.assetid: 1d4c76f3-0d7b-498e-b792-4db4a0349814
author: swinarko
ms.author: sawinark
ms.openlocfilehash: d9926eb251d109eb8ed9529a4ae739e8a1915b07
ms.sourcegitcommit: 792c7548e9a07b5cd166e0007d06f64241a161f8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/19/2019
ms.locfileid: "75245461"
---
# <a name="monitor-dqs-activities"></a>DQS アクティビティの監視

[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

  このトピックでは、 [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) でナレッジ検出、ドメイン管理、照合ポリシー、データ クレンジング、データ照合、および SSIS クレンジングの各アクティビティを一元的に監視する方法について説明します。  
  
##  <a name="BeforeYouBegin"></a>開始する前に  
  
###  <a name="LimitationsRestrictions"></a>制限事項と制約事項  
 アクティビティを終了させたりアクティビティ内のプロセスを停止させたりすることができるのは、DQS_Main データベースの dqs_administrator ロールを持つユーザーだけです。  
  
###  <a name="Security"></a>保護  
  
####  <a name="Permissions"></a>許可  
  
-   DQS アクティビティを表示するには、DQS_MAIN データベースに対する dqs_kb_editor または dqs_kb_operator ロールが必要です。  
  
-   DQS アクティビティを表示することに加え、アクティビティを終了させたりアクティビティ内のプロセスを停止させたりするには、DQS_MAIN データベースの dqs_administrator ロールが必要です。  
  
##  <a name="View"></a>DQS アクティビティの表示  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)][Data Quality Client アプリケーションを実行](../data-quality-services/run-the-data-quality-client-application.md)します。  
  
2.  
  [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] のホーム画面で **[アクティビティ監視]** をクリックします。 アクティビティ監視画面が表示されます。  
  
     ![[アクティビティ監視] 画面](../data-quality-services/media/dqs-activitymonitoring.gif "[アクティビティ監視] 画面")  
  
3.  アクティビティ監視画面には、アクティビティ グリッド内の各アクティビティに関する情報が表示されます。 アクティビティ グリッドには、各 DQS アクティビティに関する次の情報が表示されます。  
  
     **ID**: 整数値。 アクティビティ監視のためにシステムによって生成された一意のアクティビティ番号です。  
  
     **名前**: このアクティビティに使用されるナレッジベースまたはデータ品質プロジェクトの名前。  
  
     **Is active**: アクティビティが現在アクティブかどうかを示します。 次の値が入ります。  
  
    -   **アクティブ**: アクティビティは現在実行中です。  
  
    -   **終了**: アクティビティは終了しました。  
  
    -   [**終了**]: DQS 管理者がアクティビティ監視画面を使用してアクティビティを終了したか、またはの[!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)]各機能領域で実行中にユーザーによってアクティビティがキャンセルされました。  
  
     **Type**: アクティビティの種類を示します。 **サブタイプ**は、アクティビティの種類に対して実行される特定のワークフローを示します。 次の種類のアクティビティが監視されます。  
  
    -   **ナレッジ管理**のサブタイプ:  
  
        -   **ナレッジ検出**  
  
        -   **ドメイン管理**  
  
        -   **照合ポリシー**  
  
    -   **DQ プロジェクト**のサブタイプ:  
  
        -   **クリーンアップ**  
  
        -   **よる**  
  
    -   **SSIS クレンジング**のサブタイプ:  
  
        -   **クリーンアップ**  
  
     **現在の状態**: アクティビティの現在の状態を示します。 アクティビティの状態は、最後の計算プロセスによって決定されます。 (ナレッジ検出アクティビティ内で) 検出プロセスを複数回実行する場合など、1 つのアクティビティ内に複数の計算プロセスが存在する場合があることに注意してください。 そのため、アクティビティの存続期間の間に状態が何度か変化する場合があります。  
  
     **現在の状態**には次の値を指定できます。  
  
    -   **実行中**: 計算プロセスが実行されています。  
  
    -   [**成功**]: この状態は、計算プロセスが実行される前と、計算プロセスが正常に終了した後に設定されます。  
  
    -   **Failed**: 計算プロセスが失敗しました。  
  
    -   [**停止**済み: 計算プロセスは停止されました。  
  
     **Dqkb**: アクティビティに使用されるナレッジベースの名前。  
  
     **ユーザー**: アクティビティを開始したユーザーの名前、またはアクティビティを最後に操作したユーザー (同じでない場合)。  
  
     [**アクティビティの開始時刻**]: アクティビティが開始された日付と時刻  
  
     **経過時間**: アクティビティが開始されてから経過した時間。 HH:MM:SS 表記で表示されます。  
  
     [**活動終了日時**]: 活動が終了した日付と時刻。  
  
##  <a name="Filter"></a>DQS アクティビティ情報のフィルター処理  
 アクティビティ監視画面のフィルター ペイン (**[フィルター条件]**、 **[値]**、 **[開始日]**、および **[終了日]**) を使用して、特定のフィルター条件に基づいて必要なアクティビティをフィルター処理して表示することができます。 アクティビティ レコードをフィルター処理するには、次の手順を実行します。  
  
1.  フィルター条件を決定します。アクティビティ レコードをフィルター処理する際に、アクティビティ グリッド内のいずれかの列の値に基づくか (値ベース)、日付範囲に基づくか、その両方に基づくかを決定します。  
  
    1.  **値ベースのフィルター**処理: [**フィルター**条件] ボックスの一覧でフィルター条件を選択し、[**値**] ボックスの一覧でフィルター処理する適切な値を選択します。 
  **[フィルター条件]** ボックスの一覧でオプションを選択すると、 **[値]** ボックスの一覧が設定可能な値で更新されます。 アクティビティ レコードのフィールド ( **[アクティブ]**、 **[種類]**、 **[サブタイプ]**、 **[現在の状態]**、 **[DQKB]**、および **[ユーザー]**) を使用してフィルター処理できます。  
  
    2.  **日付範囲ベースのフィルター処理**: [**開始日**] および [**終了**日] の日付コントロールで適切な日付を選択します。 既定では、 **[開始日]** には現在の日付の 2 日前の日付が表示され、 **[終了日]** には現在の日付が表示されます。 フィルター処理は、 *開始日* および *終了日* ではなく範囲に基づいて行われます。 これは、選択した日付範囲の間に実行されていた各アクティビティが表示されることを意味します。  
  
2.  
  **[アクティビティの一覧を更新します]** アイコンをクリックしてフィルターを適用し、フィルター処理された DQS アクティビティのみを表示します。  
  
##  <a name="ActivityDetails"></a>DQS アクティビティの詳細の表示  
 アクティビティ監視画面で、アクティビティ ステップやプロファイラー情報などの DQS アクティビティの詳細情報を表示できます。 そのためには、次の操作を実行します。  
  
1.  アクティビティ グリッド (上部ペイン) で DQS アクティビティを選択します。  
  
2.  下部ペインの次の 2 つのタブに、選択したアクティビティの詳細が表示されます。  
  
    -   [**アクティビティステップ**]: 選択したアクティビティに関連付けられている計算プロセス (アクティビティステップ) のグリッドが表示されます。 このタブでは、アクティビティに対して複数のアクティビティステップが表示される場合があります。これは、ユーザーがアクティビティ内の同じアクティビティステップを複数回実行した場合に発生する可能性があります。 たとえば、アクティビティ ステップを停止した後に再び開始したときに発生します。 このタブの下のグリッドには、アクティビティに関連付けられているそれぞれのアクティビティ ステップに対して、 **[種類]**、 **[現在の状態]**、 **[開始時刻]**、 **[経過時間]**、および **[終了時刻]** の各情報が表示されます。  
  
    -   **Profiler**: 現在のアクティビティと履歴アクティビティのプロファイル情報を表示します。 現在のアクティビティについては、部分的ではあるが一貫性のある情報が表示されます。 アクティビティのプロファイル情報は、対応するアクティビティの詳細を Excel ファイルにエクスポートしたときに Excel ファイルにエクスポートされます。 この情報は、エクスポートした Excel ファイルの **[プロファイラー - ソース]** シートと **[プロファイラー - フィールド]** シートに表示されます。  
  
##  <a name="Export"></a>DQS アクティビティの詳細のエクスポート  
 監視画面のアクティビティのプロパティ、プロセス、およびプロファイル情報を Excel ファイルにエクスポートできます。 そのためには、次の操作を実行します。  
  
1.  アクティビティ グリッド (上部ペイン) でアクティビティを選択します。  
  
2.  
  **[選択したアクティビティを Excel にエクスポートします]** アイコンをクリックします。 または、アクティビティ グリッドで任意のアクティビティを右クリックし、ショートカット メニューの **[アクティビティのエクスポート]** をクリックします。  
  
3.  保存する Excel ファイルの名前と場所を指定するように求めるメッセージが表示されます。 エクスポートした Excel ファイルには、次のシートが含まれています。  
  
    |シート名|説明|  
    |----------------|-----------------|  
    |アクティビティ|アクティビティ グリッドと同様の、アクティビティに関する情報 (列) が表示されます。|  
    |処理|
  **[アクティビティ ステップ]** タブと同様の、アクティビティのプロセスに関する情報 (列) が表示されます。|  
    |プロファイラー - ソース|
  **[クレンジング]** サブタイプの場合は、アクティビティに関する [レコード]、[適正なレコード]、[修正されたレコード]、および [無効なレコード] の情報が表示されます。<br /><br /> 
  **[ナレッジ検出]**、 **[ドメイン管理]**、 **[照合ポリシー]**、および **[照合]** サブタイプの場合は、アクティビティに関する [レコード]、[合計値]、[新しい値]、[一意の値]、および [新しい一意の値] の情報が表示されます。|  
    |プロファイラー - フィールド|
  **[クレンジング]** および **[SSIS クレンジング]** サブタイプの場合は、アクティビティに関する [フィールド]、[ドメイン]、[修正された値]、[提案された値]、[完全]、および [精度] の情報が表示されます。<br /><br /> 
  **[ナレッジ検出]**、 **[ドメイン管理]**、 **[照合ポリシー]**、および **[照合]** サブタイプの場合は、アクティビティに関する [フィールド]、[ドメイン]、[新規]、[一意]、[ドメインで有効]、および [完全] の情報が表示されます。|  
  
##  <a name="Terminate"></a>DQS アクティビティの終了  
 DQS 管理者 (dqs_administrator ロール) は、種類が **[SSIS クレンジング]** ではない実行中の (アクティブな) アクティビティを終了することができます。 アクティビティを終了すると、アクティビティのすべての実行中のプロセスが終了し、このアクティビティに関連するすべてのアイテムが削除されます。 削除操作は元に戻すことができません。 アクティビティ監視画面でアクティビティを終了する操作は、 **の機能領域で実行中に** [キャンセル] [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)]をクリックして該当するアクティビティを取り消す操作と同じです。 アクティビティを終了するには、次の手順を実行します。  
  
1.  アクティビティ グリッド (上部ペイン) で実行中のアクティビティを選択します。  
  
2.  
  **[選択したアクティビティを終了します]** アイコンをクリックします。 または、アクティビティ グリッドでアクティビティを右クリックし、ショートカット メニューの **[アクティビティの終了]** をクリックします。  
  
3.  アクションを確認するメッセージが表示されます。 
  **[はい]** をクリックします。  
  
##  <a name="Stop"></a>DQS アクティビティでプロセスを停止する  
 DQS 管理者 (dqs_administrator ロール) は、種類が **[SSIS クレンジング]** ではないアクティビティの実行中の (アクティブな) プロセスを停止することができます。 アクティビティ監視画面でアクティビティのプロセスを停止する操作は、 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)]の機能領域で該当するアクティビティ内のプロセスを停止する操作と同じです。 たとえば、クレンジング アクティビティ内のコンピューター支援型のクレンジング プロセスを停止したり、照合アクティビティ内の照合プロセスを停止したりすることができます。 停止されたプロセスをアクティビティ監視画面から再開することはできません。 
  [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)]の該当する機能領域からプロセスを再開する必要があります。 その場合は、[**アクティビティステップ**] タブの [プロセス] グリッドに追加の行が追加されます。停止したプロセスの状態は、[**停止**済みのまま表示されます。 プロセスを停止するには、次の手順を実行します。  
  
1.  アクティビティの詳細グリッド (下部ペイン) で実行中のプロセスを選択します。  
  
2.  
  **[選択したプロセスを停止します]** アイコンをクリックします。 または、アクティビティの詳細グリッドでプロセスを右クリックし、ショートカット メニューの **[プロセスの停止]** をクリックします。  
  
3.  アクションを確認するメッセージが表示されます。 
  **[はい]** をクリックします。  
  
  
